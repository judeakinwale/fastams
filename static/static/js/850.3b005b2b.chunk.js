"use strict";(self.webpackChunkamsweb=self.webpackChunkamsweb||[]).push([[850],{7850:function(e,o,t){t.r(o);var n=t(1413),s=t(9439),l=t(3722),i=t(2791),r=t(7063),a=t(7689),c=t(1087),u=t(347),d=t(4928),_=t(2267),g=t(3348),h=t(575),x=t(184);o.default=function(){var e=(0,i.useState)({}),o=(0,s.Z)(e,2),t=o[0],y=o[1],Z=(0,i.useState)({}),f=(0,s.Z)(Z,2),C=f[0],j=f[1],v=(0,i.useState)(null),m=(0,s.Z)(v,2),b=m[0],w=m[1],p=(0,i.useState)(!1),S=(0,s.Z)(p,2),N=S[0],k=S[1],E=(0,d.K)(),q=E.mutate,M=E.reset,R=E.isSuccess,B=E.isError,F=(0,l.B)(),H=(0,a.s0)();return R&&(M(),H(u.oj.HOME)),B&&H(u.oj.HOME),(0,i.useEffect)((function(){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){y((0,n.Z)((0,n.Z)({},t),{},{long:e.coords.longitude.toString(),lat:e.coords.latitude.toString()}))}),(function(){j((0,n.Z)((0,n.Z)({},C),{},{location:"Unable to retrieve your location"}))})):j((0,n.Z)((0,n.Z)({},C),{},{location:"Geolocation is not supported by your browser"}))}),[C,t]),t.lat&&t.long?(0,x.jsxs)("div",{className:_.Z.container,children:[(0,x.jsx)("div",{className:_.Z.logoContainer,children:(0,x.jsx)(c.rU,{to:u.oj.HOME,children:(0,x.jsx)("img",{src:g,alt:"logo"})})}),(0,x.jsxs)("div",{className:_.Z.qrCode,children:[b?null:(0,x.jsx)(r.T,{onResult:function(e,o){if(e){console.log(e,"result"),w(null===e||void 0===e?void 0:e.text);var s=(0,n.Z)((0,n.Z)({},t),{},{qrCode:null===e||void 0===e?void 0:e.text});q(s)}o&&(console.info(o),j((0,n.Z)((0,n.Z)({},C),{},{QrReader:o})))},constraints:{facingMode:N?"user":"environment"},style:{height:"100px",width:"30%"}}),(0,x.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100%"},children:(0,x.jsxs)("button",{className:_.Z.btnContainer,onClick:function(){k(!N),w(null),j({})},children:["Switch Camera (",N?"Back":"Front",")"]})})]}),b&&(0,x.jsx)("div",{className:_.Z.result,children:(0,x.jsxs)("h4",{children:["Scanned code :",(0,x.jsxs)("span",{style:{color:"black"},children:[" ",b]})]})}),Boolean(F)&&(0,x.jsx)(h.aN,{})]}):(0,x.jsx)("h1",{children:"Please turn on your location"})}},2267:function(e,o){o.Z={container:"styles_container__RVGrN",qrCode:"styles_qrCode__FJcY9",btnContainer:"styles_btnContainer__Y+x48",result:"styles_result__cClFz",logoContainer:"styles_logoContainer__WXKwx",imgContainer:"styles_imgContainer__wVU7Q",home:"styles_home__88Rxu",logo:"styles_logo__ssNjd",yellow:"styles_yellow__LEfp9"}}}]);
//# sourceMappingURL=850.3b005b2b.chunk.js.map