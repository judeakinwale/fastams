"use strict";(self.webpackChunkamsweb=self.webpackChunkamsweb||[]).push([[731],{9731:function(e,n,r){r.r(n);var t=r(4942),a=r(1413),o=r(9439),i=r(2791),s=r(1087),u=r(3722),c=r(5043),l=r(347),d=r(2575),p=r(184);n.default=function(){var e=(0,i.useState)({}),n=(0,o.Z)(e,2),r=n[0],f=n[1],h=(0,i.useState)({}),m=(0,o.Z)(h,2),v=m[0],w=m[1],x=(0,u.B)(),b=(0,d.f)().mutate,g=function(e,n){f((0,a.Z)((0,a.Z)({},r),{},(0,t.Z)({},e,n)))},Z=function(e,n){w((0,a.Z)((0,a.Z)({},v),{},(0,t.Z)({},e,n)))};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("h1",{children:"Admin Login"}),(0,p.jsxs)(c.cw,{onSubmit:function(){console.log(r,"i"),b(r)},children:[(0,p.jsx)(c.II,{name:"email",label:"Email Address",value:r.email,onChange:g,type:"email",validationHandler:Z,error:v.email,required:!0,size:"large"}),(0,p.jsx)(c.WU,{name:"password",label:"Password",value:r.password,onChange:g,validationHandler:Z,error:v.password,required:!0,size:"large"}),(0,p.jsx)(c.zx,{title:"login",size:"large",className:x?"btn-disabled":"",style:{marginTop:"1rem"},loading:1===x,disabled:1===x})]}),(0,p.jsxs)("div",{className:"link-wrapper",children:[(0,p.jsx)("span",{children:"Forgot your password? "}),(0,p.jsx)(s.rU,{to:l.Ot.FORGOT_PASSWORD,children:"Reset it here"})]})]})}},2575:function(e,n,r){r.d(n,{f:function(){return v},p:function(){return w}});var t=r(4165),a=r(5861),o=r(2805),i=r(2791),s=r(9373),u=r(8096),c=r(3418),l=r(2917),d=r(749),p=r(6414),f=r(5985);function h(){return(h=(0,a.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n,"hook"),e.next=3,(0,o.b)({url:"/auth",method:"POST",data:n,headers:{"Content-Type":"application/json"}});case 3:return r=e.sent,e.abrupt("return",null===r||void 0===r?void 0:r.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(m=(0,a.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.b)({url:"/auth/me",method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat((0,u.KU)())}});case 2:return n=e.sent,e.abrupt("return",null===n||void 0===n?void 0:n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){var e=(0,i.useContext)(s.V),n=(0,c.D)({mutationFn:function(e){return function(e){return h.apply(this,arguments)}(e)},onSuccess:function(n){(0,d.Cq)("Login Successful"),(0,u.EV)(null===n||void 0===n?void 0:n.token),e.authenticate(null===n||void 0===n?void 0:n.token)},onError:function(e){(0,d.sD)(e)}});return{mutate:n.mutate,isError:n.isError,error:n.error,isSuccess:n.isSuccess,reset:n.reset}}function w(){var e=(0,l.a)({queryKey:[p.a.me],queryFn:function(){return function(){return m.apply(this,arguments)}()},onError:function(e){f.Am.error(e,d.HK)}}),n=e.data;return void 0===n?[]:n}}}]);
//# sourceMappingURL=731.f7042e58.chunk.js.map