{"version":3,"file":"static/js/387.98dd6a8f.chunk.js","mappings":"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","sources":["components/AdminSettingsHeader/index.jsx","modules/Admin/Settings/authentication.js"],"sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { PrivatePaths } from \"../../routes/path\";\r\nimport \"./styles.css\";\r\n\r\nconst AdminSettingsHeader = (props) => {\r\n\treturn (\r\n\t\t<div className=\"menubar\">\r\n\t\t\t<ul>\r\n\t\t\t\t<li className={props.time}>\r\n\t\t\t\t\t<Link to={PrivatePaths.ADMIN_SETTINGS}> Time</Link>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li className={props.location}>\r\n\t\t\t\t\t<Link to={PrivatePaths.ADMIN_SETTINGS_LOCATION}>\r\n\t\t\t\t\t\tLocation\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>\r\n\r\n\t\t\t\t<li className={props.authentication}>\r\n\t\t\t\t\t<Link to={PrivatePaths.ADMIN_SETTINGS_AUTHENTICATION}>\r\n\t\t\t\t\t\tAuthentication\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>\r\n\t\t\t\t\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default AdminSettingsHeader;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport \"../../../shared/settings.css\";\r\nimport { GiSecurityGate } from \"react-icons/gi\";\r\nimport { BsQrCode } from \"react-icons/bs\";\r\nimport { TbFaceId } from \"react-icons/tb\";\r\nimport { GoLocation } from \"react-icons/go\";\r\nimport AdminSettingsHeader from \"../../../components/AdminSettingsHeader\";\r\nimport { FormControlLabel, FormGroup, Switch } from \"@material-ui/core\";\r\nimport { useGetSettingById, useGetSettings, useUpdateSettings } from \"../hooks\";\r\nimport { toast } from \"react-toastify\";\r\nimport { errorAlert, toastOptions } from \"../../../utils\";\r\nimport { useIsMutating } from \"@tanstack/react-query\";\r\nimport { Loader } from \"../../../components\";\r\nimport Layout from \"../../../layout\";\r\n\r\nconst Users = () => {\r\n  const [facial, setFacial] = useState(false);\r\n  const [QrCode, setQrCode] = useState(false);\r\n  const [location, setLocation] = useState(false);\r\n  const [formData, setFormData] = useState({});\r\n  const isLoading = useIsMutating();\r\n\r\n  const { data: settingsID } = useGetSettings();\r\n  const ID = settingsID && settingsID[0].id;\r\n\r\n  const { data } = useGetSettingById(ID);\r\n\r\n  const { mutate, isError, isSuccess, reset, error } = useUpdateSettings();\r\n\r\n  useEffect(() => {\r\n    setQrCode(data?.data?.use_qr_code);\r\n    setLocation(data?.data?.use_location);\r\n    setFacial(data?.data?.use_facial_recognition);\r\n  }, [data]);\r\n\r\n  if (isError) {\r\n    reset();\r\n    errorAlert(error);\r\n  }\r\n  if (isSuccess) {\r\n    reset();\r\n    toast.success(`Settings Updated`, toastOptions);\r\n  }\r\n\r\n  const qrHandler = () => {\r\n    if (QrCode === true) {\r\n      const newData = { ...formData, use_qr_code: false, id: data?.id };\r\n      mutate(newData);\r\n    } else {\r\n      const newData = { ...formData, use_qr_code: true, id: data?.id };\r\n      mutate(newData);\r\n    }\r\n  };\r\n\r\n  const locationHandler = () => {\r\n    if (location === true) {\r\n      const newData = { ...formData, use_location: false, id: data?.id };\r\n      mutate(newData);\r\n    } else {\r\n      const newData = { ...formData, use_location: true, id: data?.id };\r\n      mutate(newData);\r\n    }\r\n  };\r\n\r\n  const facialHandler = () => {\r\n    if (facial === true) {\r\n      const newData = {\r\n        ...formData,\r\n        use_facial_recognition: false,\r\n        id: data?.id,\r\n      };\r\n      mutate(newData);\r\n    } else {\r\n      const newData = {\r\n        ...formData,\r\n        use_facial_recognition: true,\r\n        id: data?.id,\r\n      };\r\n      mutate(newData);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Layout name=\"Settings\" title=\"Settings\">\r\n      <div className=\"settings_container\">\r\n        <div className=\"settings_container_layout\">\r\n          <div className=\"setting_container\">\r\n            <AdminSettingsHeader authentication={\"remote\"} />\r\n            <div className=\"title\">\r\n              <span className=\"ams__icon\">\r\n                <GiSecurityGate />\r\n              </span>\r\n              Authentication\r\n            </div>\r\n            {isLoading ? (\r\n              <Loader />\r\n            ) : (\r\n              <div className=\"form_container\">\r\n                <div className=\"authentication_container\">\r\n                  <div className=\"icon_container\">\r\n                    <BsQrCode />\r\n                  </div>\r\n                  <div\r\n                    style={{\r\n                      fontWeight: \"bold\",\r\n                      fontSize: \".8rem\",\r\n                    }}\r\n                  >\r\n                    {\" \"}\r\n                    QR Code{\" \"}\r\n                  </div>\r\n                  <div className=\"toggle_container\">\r\n                    <FormGroup>\r\n                      <FormControlLabel\r\n                        control={<Switch defaultChecked />}\r\n                        checked={QrCode}\r\n                        label={QrCode ? \"Enabled\" : \"Disabled\"}\r\n                        onChange={qrHandler}\r\n                      />\r\n                    </FormGroup>\r\n                  </div>\r\n                </div>\r\n                <div className=\"authentication_container\">\r\n                  <div className=\"icon_container\">\r\n                    <GoLocation />\r\n                  </div>\r\n                  <div\r\n                    style={{\r\n                      fontWeight: \"bold\",\r\n                      fontSize: \".8rem\",\r\n                    }}\r\n                  >\r\n                    {\" \"}\r\n                    Location{\" \"}\r\n                  </div>\r\n                  <div className=\"toggle_container\">\r\n                    <FormGroup>\r\n                      <FormControlLabel\r\n                        control={<Switch defaultChecked />}\r\n                        checked={location}\r\n                        label={location ? \"Enabled\" : \"Disabled\"}\r\n                        onChange={locationHandler}\r\n                      />\r\n                    </FormGroup>\r\n                  </div>\r\n                </div>\r\n                <div className=\"authentication_container\">\r\n                  <div className=\"icon_container\">\r\n                    <TbFaceId />\r\n                  </div>\r\n                  <div\r\n                    style={{\r\n                      fontWeight: \"bold\",\r\n                      fontSize: \".8rem\",\r\n                    }}\r\n                  >\r\n                    {\" \"}\r\n                    Facial Recognition{\" \"}\r\n                  </div>\r\n                  <div className=\"toggle_container\">\r\n                    <FormGroup>\r\n                      <FormControlLabel\r\n                        control={<Switch defaultChecked />}\r\n                        checked={facial}\r\n                        label={facial ? \"Enabled\" : \"Disabled\"}\r\n                        onChange={facialHandler}\r\n                      />\r\n                    </FormGroup>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n"],"names":["props","_jsx","className","children","_jsxs","time","Link","to","PrivatePaths","location","authentication","_useState","useState","_useState2","_slicedToArray","facial","setFacial","_useState3","_useState4","QrCode","setQrCode","_useState5","_useState6","setLocation","_useState7","_useState8","formData","isLoading","useIsMutating","settingsID","useGetSettings","data","ID","id","useGetSettingById","_useUpdateSettings","useUpdateSettings","mutate","isError","isSuccess","reset","error","useEffect","_data$data","_data$data2","_data$data3","use_qr_code","use_location","use_facial_recognition","errorAlert","toast","toastOptions","Layout","name","title","AdminSettingsHeader","GiSecurityGate","Loader","BsQrCode","style","fontWeight","fontSize","FormGroup","FormControlLabel","control","Switch","defaultChecked","checked","label","onChange","newData","_objectSpread","GoLocation","TbFaceId"],"sourceRoot":""}