{"version":3,"file":"static/js/342.6056b7b2.chunk.js","mappings":"yMA4EA,UApEgB,WACd,IAAMA,EAAa,IAAIC,KACTC,GAAeC,EAAAA,EAAAA,MAArBC,KACMC,GAAgBC,EAAAA,EAAAA,IAAkBN,GAAxCI,KACAG,GAAQC,EAAAA,EAAAA,MAARD,IACRE,GAAkCC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAvCI,EAASF,EAAA,GAAEG,EAAYH,EAAA,GAmD9B,OAjDAI,EAAAA,EAAAA,YAAU,WACR,IAYMC,EAA2B,SAACC,EAAgBC,GAChD,OAAqB,OAAdD,QAAc,IAAdA,OAAc,EAAdA,EAAgBE,QAAO,SAACC,GAAI,OAAKA,EAAKF,EAAgB,MAAK,EACpE,EA4BA,GAAIX,EAAK,CACP,IAAMc,EA3Bc,SAACC,GACrB,OAAQA,GACN,IAAK,QACH,IAAMC,GAlBH,IAAItB,MAAOuB,cAAcC,MAAM,KAAK,GAmBvC,OAhB0CC,EAgBAH,GAd9B,QAFcN,EAgBIf,SAdlB,IAAde,OAAc,EAAdA,EAAgBE,QACd,SAACC,GAAI,OAAKA,EAAKO,WAAWF,MAAM,KAAK,KAAOC,CAAI,MAC7C,GAcL,IAAK,MAeL,QACE,OAAOxB,EAbT,IAAK,OACH,OAAOc,EAAyBd,EAAY,qBAE9C,IAAK,QACH,OAAOc,EAAyBd,EAAY,uBAE9C,IAAK,WACH,OAAOc,EAAyBd,EAAY,0BAE9C,IAAK,SACH,OAAOG,EA/BkB,IAACY,EAAgBS,CAoChD,CAGuBE,CAAcrB,GACnCO,EAAaO,EACf,CACF,GAAG,CAACd,EAAKF,EAAaH,KAGpB2B,EAAAA,EAAAA,KAACC,EAAAA,EAAM,CAACC,KAAK,SAASC,MAAK,GAAAC,OAAK1B,EAAI2B,oBAAmB,YAAWC,UAChEN,EAAAA,EAAAA,KAACO,EAAAA,GAAK,CACJC,QAAiB,WAAR9B,EAAmB+B,EAAAA,EAAcD,EAAAA,GAC1CjC,KAAMS,EACN0B,SAAS,KACTC,YAAU,KAIlB,C,wGC1EO,IAAMH,EAAU,CAErB,CAAEL,MAAO,aAAcS,MAAO,mBAC9B,CAAET,MAAO,YAAaS,MAAO,kBAC7B,CAAET,MAAO,QAASS,MAAO,SACzB,CACET,MAAO,gBACPS,MAAO,aACPC,OAAQ,SAACC,GAAO,OAAKA,EAAQhB,WAAWiB,QAAQ,IAAK,OAAOC,MAAM,GAAI,GAAG,GAE3E,CACEb,MAAO,iBACPS,MAAO,aACPC,OAAQ,SAACC,GAAO,OAAKA,EAAQhB,WAAWiB,QAAQ,IAAK,OAAOC,MAAM,GAAI,GAAG,IAIhEC,EAAiB,CAC5B,CAAEd,MAAO,QAASS,MAAO,SACzB,CACET,MAAO,gBACPS,MAAO,aACPC,OAAQ,SAACC,GAAO,OAAKA,EAAQhB,WAAWiB,QAAQ,IAAK,OAAOC,MAAM,GAAI,GAAG,GAE3E,CACEb,MAAO,iBACPS,MAAO,aACPC,OAAQ,SAACC,GAAO,OAAKA,EAAQhB,WAAWiB,QAAQ,IAAK,OAAOC,MAAM,GAAI,GAAG,IAIhEE,EAAmB,CAC9B,CAAEf,MAAO,OAAQS,MAAO,QAExB,CAAET,MAAO,UAAWS,MAAO,WAC3B,CAAET,MAAO,WAAYS,MAAO,YAC5B,CAAET,MAAO,YAAaS,MAAO,aAC7B,CAAET,MAAO,SAAUS,MAAO,U,uDCrCrB,IAAMJ,EAAU,CAErB,CAAEL,MAAO,aAAcS,MAAO,cAC9B,CAAET,MAAO,YAAaS,MAAO,aAC7B,CAAET,MAAO,QAASS,MAAO,S","sources":["modules/Admin/Report/[key].js","modules/Admin/Report/column.js","modules/Admin/Users/column.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Layout from \"../../../layout\";\nimport { useParams } from \"react-router-dom\";\nimport { useGetAbsentUsers, useGetAttendance } from \"../hooks\";\nimport { Table } from \"mtforms\";\nimport { columns } from \"./column\";\nimport { columns as userColumns } from \"../Users/column\";\n\nconst Reports = () => {\n  const absentDate = new Date();\n  const { data: attendance } = useGetAttendance();\n  const { data: absentUsers } = useGetAbsentUsers(absentDate);\n  const { key } = useParams();\n  const [tableData, setTableData] = useState([]);\n\n  useEffect(() => {\n    const getTodayDateISOString = () => {\n      return new Date().toISOString().split(\"T\")[0];\n    };\n\n    const filterAttendanceByDate = (attendanceList, date) => {\n      return (\n        attendanceList?.filter(\n          (item) => item.created_at.split(\"T\")[0] === date\n        ) || []\n      );\n    };\n\n    const filterAttendanceByStatus = (attendanceList, booleanProperty) => {\n      return attendanceList?.filter((item) => item[booleanProperty]) || [];\n    };\n\n    const getReportData = (activeReport) => {\n      switch (activeReport) {\n        case \"today\":\n          const todayDate = getTodayDateISOString();\n          return filterAttendanceByDate(attendance, todayDate);\n\n        case \"all\":\n          return attendance;\n\n        case \"late\":\n          return filterAttendanceByStatus(attendance, \"is_signed_in_late\");\n\n        case \"early\":\n          return filterAttendanceByStatus(attendance, \"is_signed_out_early\");\n\n        case \"overtime\":\n          return filterAttendanceByStatus(attendance, \"is_signed_out_overtime\");\n\n        case \"absent\":\n          return absentUsers;\n\n        default:\n          return attendance;\n      }\n    };\n\n    if (key) {\n      const newTableData = getReportData(key);\n      setTableData(newTableData);\n    }\n  }, [key, absentUsers, attendance]);\n\n  return (\n    <Layout name=\"Report\" title={`${key.toLocaleUpperCase()} Reports`}>\n      <Table\n        columns={key === \"absent\" ? userColumns : columns}\n        data={tableData}\n        selectID=\"id\"\n        showFilter\n      />\n    </Layout>\n  );\n};\n\nexport default Reports;\n","export const columns = [\r\n  // { title: \"S/N\", field: \"Tableid\",render: (rowData) => rowData.tableData.id + 1},\r\n  { title: \"First Name\", field: \"user.first_name\" },\r\n  { title: \"Last Name\", field: \"user.last_name\" },\r\n  { title: \"Email\", field: \"email\" },\r\n  {\r\n    title: \"Check In Time\",\r\n    field: \"created_at\",\r\n    render: (rowData) => rowData.created_at.replace(\"T\", \" - \").slice(0, -10),\r\n  },\r\n  {\r\n    title: \"Check Out Time\",\r\n    field: \"updated_at\",\r\n    render: (rowData) => rowData.created_at.replace(\"T\", \" - \").slice(0, -10),\r\n  },\r\n];\r\n\r\nexport const single_columns = [\r\n  { title: \"Email\", field: \"email\" },\r\n  {\r\n    title: \"Check In Time\",\r\n    field: \"created_at\",\r\n    render: (rowData) => rowData.created_at.replace(\"T\", \" - \").slice(0, -10),\r\n  },\r\n  {\r\n    title: \"Check Out Time\",\r\n    field: \"updated_at\",\r\n    render: (rowData) => rowData.created_at.replace(\"T\", \" - \").slice(0, -10),\r\n  },\r\n];\r\n\r\nexport const location_columns = [\r\n  { title: \"Name\", field: \"name\" },\r\n\r\n  { title: \"Address\", field: \"address\" },\r\n  { title: \"Latitude\", field: \"latitude\" },\r\n  { title: \"Longitude\", field: \"longitude\" },\r\n  { title: \"Radius\", field: \"radius\" },\r\n];\r\n","export const columns = [\r\n  // { title: \"S/N\", field: \"Tableid\",render: (rowData) => rowData.tableData.id + 1},\r\n  { title: \"First Name\", field: \"first_name\" },\r\n  { title: \"Last Name\", field: \"last_name\" },\r\n  { title: \"Email\", field: \"email\" },\r\n];\r\n"],"names":["absentDate","Date","attendance","useGetAttendance","data","absentUsers","useGetAbsentUsers","key","useParams","_useState","useState","_useState2","_slicedToArray","tableData","setTableData","useEffect","filterAttendanceByStatus","attendanceList","booleanProperty","filter","item","newTableData","activeReport","todayDate","toISOString","split","date","created_at","getReportData","_jsx","Layout","name","title","concat","toLocaleUpperCase","children","Table","columns","userColumns","selectID","showFilter","field","render","rowData","replace","slice","single_columns","location_columns"],"sourceRoot":""}