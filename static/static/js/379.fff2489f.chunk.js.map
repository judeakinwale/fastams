{"version":3,"file":"static/js/379.fff2489f.chunk.js","mappings":"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","sources":["axios-Instance/index.js","axios-Instance/constants.js","modules/QRCode/Clockin/home.js","modules/QRCode/Clockin/hooks/index.js","webpack://amsweb/./src/modules/QRCode/Clockin/styles.module.css?9b4e"],"sourcesContent":["import axios from \"axios\";\nimport { baseURL } from \"./constants\";\n\nconst config = { baseURL: baseURL };\nexport const axiosInstance = axios.create(config);\n","// export const baseURL = \"https://pyams.azurewebsites.net/api/v1\";\nexport const baseURL = \"https://impactlife.azurewebsites.net/api/v1\";\n// export const baseURL = \"https://qrcodeattendance.azurewebsites.net/api\";\n","import React, { useContext } from \"react\";\r\nimport logo from \"../../../assets/logo.jpeg\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { PrivatePaths, PublicPaths } from \"../../../routes/path\";\r\nimport styles from \"./styles.module.css\";\r\nimport \"../../../shared/button.css\";\r\nimport { useClockOut, useGetAttendance } from \"./hooks\";\r\nimport { AuthContext } from \"../../../context\";\r\n\r\nconst Home = () => {\r\n  const { data } = useGetAttendance();\r\n  const navigate = useNavigate();\r\n  const authCtx = useContext(AuthContext);\r\n\r\n  const logout = () => {\r\n    authCtx.logout();\r\n    navigate(\"/\");\r\n  };\r\n\r\n  const clockinHandler = () => {\r\n    navigate(PrivatePaths.CLOCK_IN);\r\n  };\r\n\r\n  const clockOutHandler = () => {\r\n    navigate(PrivatePaths.CLOCK_OUT);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.home}>\r\n      <div className={styles.logo}>\r\n        <img src={logo} alt=\"AMS Logo\" />\r\n      </div>\r\n      <h1>Attendance</h1>\r\n      <h1>Management</h1>\r\n      <h1>System</h1>\r\n\r\n      <div style={{ marginTop: \"4rem\" }} className=\"btnContainer\">\r\n        {data?.status === \"ClockedIn\" ? (\r\n          <div>\r\n            <button className=\"btn btnYellow\" onClick={clockOutHandler}>\r\n              Clock Out\r\n            </button>\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            <button className=\"btn btnPurple\" onClick={clockinHandler}>\r\n              Clock In\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        <div>\r\n          <button className=\"btn btnBlack\" onClick={logout}>\r\n            Log Out\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import { axiosInstance } from \"../../../../axios-Instance\";\nimport {  useMutation, useQuery, useQueryClient } from \"@tanstack/react-query\";\nimport { getLoginToken } from \"../../../../storage\";\nimport { errorAlert, toastOptions } from \"../../../../utils\";\nimport { toast } from \"react-toastify\";\nimport { queryKeys } from \"../../../../react-query/constants\";\n\n\nasync function userClockin(formData) {\n  const data = await axiosInstance({\n    url: `/attendance/sign-in-qr?content=${formData.qrCode}&long=${formData.long}&lat=${formData.lat}`,\n    method: \"POST\",\n    \n    headers: {\n      \"Content-Type\": \"multipart/form-data\",\n     \n    },\n  });\n\n  return data?.data;\n}\n\n\n\nasync function getAttendance() {\n  const data = await axiosInstance({\n    url: \"/Attendance/UserAttendStatus\",\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${getLoginToken()}`,\n    },\n  });\n\n  return data?.data;\n}\n\n\n\nexport function useClockin() {\n  const queryClient = useQueryClient();\n  const { mutate, isError, error, isSuccess, reset } = useMutation({\n    mutationFn: (formData) => userClockin(formData),\n    onSuccess: () => {\n      toast.success(\"Clock in successfull\", toastOptions);\n      queryClient.invalidateQueries([queryKeys.clockIn]);\n    },\n    onError: (error) => {\n        errorAlert(error, toastOptions);\n    },\n  });\n \n  return { mutate, isError, error, isSuccess, reset };\n}\n\nexport function useGetAttendance() {\n  const fallback = [];\n  const { data = fallback } = useQuery({\n    queryKey: [queryKeys.clockIn],\n    queryFn: () => getAttendance(),\n    onError: (error) => {\n      \n      toast.error(error, toastOptions);\n    },\n  });\n  return data;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"styles_container__B+Po3\",\"qrCode\":\"styles_qrCode__l9wVC\",\"btnContainer\":\"styles_btnContainer__WZKTJ\",\"result\":\"styles_result__uA2DE\",\"logoContainer\":\"styles_logoContainer__UxVta\",\"imgContainer\":\"styles_imgContainer__jjjBQ\",\"home\":\"styles_home__3lA8v\",\"logo\":\"styles_logo__LLS9j\",\"yellow\":\"styles_yellow__aWFoT\"};"],"names":["config","baseURL","axiosInstance","axios","data","useGetAttendance","navigate","useNavigate","authCtx","useContext","AuthContext","_jsxs","className","styles","children","_jsx","src","logo","alt","style","marginTop","status","onClick","PrivatePaths","logout","_userClockin","_asyncToGenerator","_regeneratorRuntime","mark","_callee","formData","wrap","_context","prev","next","url","concat","qrCode","long","lat","method","headers","sent","abrupt","stop","apply","arguments","_getAttendance","_callee2","_context2","Authorization","getLoginToken","useClockin","queryClient","useQueryClient","_useMutation","useMutation","mutationFn","_x","userClockin","onSuccess","toast","toastOptions","invalidateQueries","queryKeys","onError","error","errorAlert","mutate","isError","isSuccess","reset","_useQuery","useQuery","queryKey","queryFn","getAttendance","_useQuery$data"],"sourceRoot":""}