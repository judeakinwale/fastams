{"version":3,"file":"static/js/841.15ca2e1a.chunk.js","mappings":"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","sources":["components/Chart/index.jsx","webpack://amsweb/./src/components/ActivityList/styles.module.css?4c99","components/ActivityList/index.jsx","modules/Admin/Dashboard/index.js"],"sourcesContent":["import React from \"react\";\nimport ReactECharts from \"echarts-for-react\";\nimport styles from \"./chart.module.css\";\n\nconst Chart = ({\n  total = 0,\n  checkin = 0,\n  checkout = 0,\n  late_checkin = 0,\n  early_checkout = 0,\n  overtime_checkout = 0,\n}) => {\n  const option = {\n    tooltip: {\n      trigger: \"item\",\n    },\n\n    legend: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      width: \"10%\",\n      right: \"5%\",\n      marginBottom: \"20px\",\n    },\n    series: [\n      {\n        name: \"Reports\",\n\n        type: \"pie\",\n        radius: \"95%\",\n        avoidLabelOverlap: false,\n        itemStyle: {\n          borderRadius: 10,\n          borderColor: \"#fff\",\n          borderWidth: 2,\n        },\n        label: {\n          show: true,\n        },\n        emphasis: {\n          label: {\n            show: true,\n            fontWeight: \"bold\",\n          },\n        },\n        labelLine: {\n          show: false,\n        },\n        color: [\"#640ad2\", \"#c5d86d\", \"#d7263d\"],\n        data: [\n          { value: total, name: \"Total\" },\n          { value: checkin, name: \"Total Check In\" },\n          { value: checkout, name: \"Total Check Out\" },\n          { value: late_checkin, name: \"Late Check Out\" },\n          { value: early_checkout, name: \"Early Check Out\" },\n          { value: overtime_checkout, name: \"Overtime Check Out\" },\n        ],\n      },\n    ],\n  };\n  return (\n    <ReactECharts option={option} style={{ height: \"400px\", width: \"100%\" }} />\n  );\n};\n\nexport default Chart;\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"styles_list__hbCmT\",\"activity\":\"styles_activity__nyOtJ\",\"video\":\"styles_video__82g35\",\"image\":\"styles_image__yoSlE\",\"text\":\"styles_text__XdpoK\",\"textx\":\"styles_textx__YkNpP\"};","import React from \"react\";\nimport styles from \"./styles.module.css\";\n\nimport image from \"../../assets/male.png\";\nconst ActivityList = ({ user, time, logout }) => {\n  return (\n    <div className={styles.activity}>\n      <div className={styles.image}>\n        <img src={image} alt=\"icon\" />\n      </div>\n      <div className={styles.textx}>\n        {user} {logout === true ? \"Clocked Out\" : \"Clocked In\"}\n        <p>{time}</p>\n      </div>\n    </div>\n  );\n};\n\nexport default ActivityList;\n","import React from \"react\";\r\nimport { AdminCard } from \"../../../components\";\r\nimport { FaRegUserCircle } from \"react-icons/fa\";\r\n\r\nimport { BsBoxArrowLeft, BsBoxArrowInRight } from \"react-icons/bs\";\r\nimport \"../../../shared/dashboard.css\";\r\nimport Chart from \"../../../components/Chart\";\r\nimport { useGetAbsentUsers, useGetAttendance, useGetUsers } from \"../hooks\";\r\nimport Layout from \"../../../layout\";\r\nimport ActivityList from \"../../../components/ActivityList\";\r\n\r\nconst Index = () => {\r\n  const { data } = useGetUsers();\r\n  const { data: absentStaff } = useGetAbsentUsers();\r\n  const { data: attendance } = useGetAttendance();\r\n\r\n  // data with no repetition\r\n  const uniqueAttendance = (objects) => {\r\n    const uniqueEmailObjects = {};\r\n\r\n    // Iterate over the list of objects\r\n    for (const obj of objects) {\r\n      const email = obj.email;\r\n      // Store the object in the uniqueEmailObjects object using email as the key\r\n      // This will ensure that only one instance is stored for each unique email\r\n      if (!uniqueEmailObjects[email]) {\r\n        uniqueEmailObjects[email] = obj;\r\n      }\r\n    }\r\n\r\n    // Get the unique objects as an array\r\n    const uniqueObjects = Object.values(uniqueEmailObjects);\r\n    return uniqueObjects;\r\n  };\r\n\r\n  //from array of attendances get today atendance\r\n\r\n  function checkAndCreateTodayAttendance() {\r\n    // const today = \"2023-05-12T09:21:17\";\r\n    // const formattedDate = today.split('T')[0]\r\n    const today = new Date().toISOString().split(\"T\")[0]; // Get today's date in YYYY-MM-DD format\r\n    const todayAttendance = [];\r\n\r\n    attendance?.forEach((item) => {\r\n      const itemDate = item.created_at.split(\"T\")[0]; // Extract the date from the \"create\" property\r\n      if (itemDate === today) {\r\n        todayAttendance.push(item); // Add the matching object to the todayAttendance array\r\n      }\r\n    });\r\n\r\n    return todayAttendance;\r\n  }\r\n\r\n  //card data\r\n  const result = uniqueAttendance(checkAndCreateTodayAttendance());\r\n\r\n  const checkIn = result?.filter((x) => x.is_signed_in === true);\r\n  const checkOut = result?.filter((x) => x.is_signed_out === true);\r\n  const lateCheckIn = result?.filter((x) => x.is_signed_in_late === true);\r\n  const earlyCheckOut = result?.filter((x) => x.is_signed_out_early === true);\r\n  const overtimeCheckOut = result?.filter(\r\n    (x) => x.is_signed_out_overtime === true\r\n  );\r\n\r\n  //get the last 4 recent activity\r\n\r\n  function getLastFourElements(result) {\r\n    if (result?.length < 4) {\r\n      return result;\r\n    }\r\n    const length = result?.length;\r\n    const lastFourArray = result?.slice(length - 4, length);\r\n    return lastFourArray;\r\n  }\r\n  const lastFour = getLastFourElements(result);\r\n\r\n  console.log(lastFour, \"log\");\r\n\r\n  return (\r\n    <Layout name=\"Dashboard\" title=\"Dashboard\">\r\n      <div className=\"cardFlex\">\r\n        <AdminCard\r\n          title={\"Total Users\"}\r\n          count={data?.length}\r\n          Icon={FaRegUserCircle}\r\n          color=\"cyan\"\r\n          colorInner=\"lightCyan\"\r\n        />\r\n        <AdminCard\r\n          title={\"Total Check-In\"}\r\n          count={checkIn?.length ? checkIn.length : 0}\r\n          Icon={BsBoxArrowInRight}\r\n          color=\"gold\"\r\n          colorInner=\"lightGold\"\r\n        />\r\n        <AdminCard\r\n          title={\"Total Check-Out\"}\r\n          count={checkOut?.length ? checkOut.length : 0}\r\n          Icon={BsBoxArrowLeft}\r\n          color=\"crimson\"\r\n          colorInner=\"lightCrimson\"\r\n        />\r\n\r\n        <AdminCard\r\n          title={\"Late Check-In\"}\r\n          count={lateCheckIn?.length ? lateCheckIn.length : 0}\r\n          Icon={BsBoxArrowInRight}\r\n          color=\"purple\"\r\n          colorInner=\"lightPurple\"\r\n        />\r\n        <AdminCard\r\n          title={\"Early Check-Out\"}\r\n          count={earlyCheckOut?.length ? earlyCheckOut.length : 0}\r\n          Icon={BsBoxArrowLeft}\r\n          color=\"gold\"\r\n          colorInner=\"lightGold\"\r\n        />\r\n        <AdminCard\r\n          title={\"Overtime Check-Out\"}\r\n          count={overtimeCheckOut?.length ? overtimeCheckOut.length : 0}\r\n          Icon={BsBoxArrowLeft}\r\n          color=\"crimson\"\r\n          colorInner=\"lightCrimson\"\r\n        />\r\n\r\n        <AdminCard\r\n          title={\"Absent Staff\"}\r\n          count={absentStaff?.length ? absentStaff.length : 0}\r\n          Icon={FaRegUserCircle}\r\n          color=\"cyan\"\r\n          colorInner=\"lightCyan\"\r\n        />\r\n      </div>\r\n      <div className=\"chart\">\r\n        <div className=\"chartContainer\">\r\n          <div className=\"chartItems\">\r\n            <Chart\r\n              total={data?.length}\r\n              latecomer={20}\r\n              checkin={checkIn?.length ? checkIn.length : 0}\r\n              checkout={checkOut?.length ? checkOut.length : 0}\r\n              late_checkin={lateCheckIn?.length ? lateCheckIn.length : 0}\r\n              early_checkout={earlyCheckOut?.length ? earlyCheckOut.length : 0}\r\n              overtime_checkout={\r\n                overtimeCheckOut?.length ? overtimeCheckOut.length : 0\r\n              }\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"activityContainer\">\r\n          <h2>Recent Activity</h2>\r\n\r\n          <div className=\"activity\">\r\n            {lastFour.map((item, i) => (\r\n              <ActivityList\r\n                user={item.user?.last_name}\r\n                time={item.created_at?.replace(\"T\", \" at \").slice(0, -10)}\r\n                logout={item?.is_signed_out}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Index;\r\n"],"names":["_ref","_ref$total","total","_ref$checkin","checkin","_ref$checkout","checkout","_ref$late_checkin","late_checkin","_ref$early_checkout","early_checkout","_ref$overtime_checkou","overtime_checkout","option","tooltip","trigger","legend","display","flexDirection","width","right","marginBottom","series","name","type","radius","avoidLabelOverlap","itemStyle","borderRadius","borderColor","borderWidth","label","show","emphasis","fontWeight","labelLine","color","data","value","_jsx","ReactECharts","style","height","user","time","logout","_jsxs","className","styles","children","src","image","alt","useGetUsers","absentStaff","useGetAbsentUsers","attendance","useGetAttendance","result","objects","_step","uniqueEmailObjects","_iterator","_createForOfIteratorHelper","s","n","done","obj","email","err","e","f","Object","values","uniqueAttendance","today","Date","toISOString","split","todayAttendance","forEach","item","created_at","push","checkAndCreateTodayAttendance","checkIn","filter","x","is_signed_in","checkOut","is_signed_out","lateCheckIn","is_signed_in_late","earlyCheckOut","is_signed_out_early","overtimeCheckOut","is_signed_out_overtime","lastFour","length","slice","getLastFourElements","console","log","Layout","title","AdminCard","count","Icon","FaRegUserCircle","colorInner","BsBoxArrowInRight","BsBoxArrowLeft","Chart","latecomer","map","i","_item$user","_item$created_at","ActivityList","last_name","replace"],"sourceRoot":""}