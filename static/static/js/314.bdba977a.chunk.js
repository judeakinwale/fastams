"use strict";(self.webpackChunkamsweb=self.webpackChunkamsweb||[]).push([[314],{2575:function(e,r,n){n.d(r,{f:function(){return v},p:function(){return x}});var t=n(4165),a=n(5861),o=n(2805),s=n(2791),i=n(9373),u=n(8096),c=n(3418),l=n(2917),d=n(749),p=n(6414),h=n(5985);function f(){return(f=(0,a.Z)((0,t.Z)().mark((function e(r){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(r,"hook"),e.next=3,(0,o.b)({url:"/auth",method:"POST",data:r,headers:{"Content-Type":"application/json"}});case 3:return n=e.sent,e.abrupt("return",null===n||void 0===n?void 0:n.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(m=(0,a.Z)((0,t.Z)().mark((function e(){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.b)({url:"/auth/me",method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat((0,u.KU)())}});case 2:return r=e.sent,e.abrupt("return",null===r||void 0===r?void 0:r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){var e=(0,s.useContext)(i.V),r=(0,c.D)({mutationFn:function(e){return function(e){return f.apply(this,arguments)}(e)},onSuccess:function(r){(0,d.Cq)("Login Successful"),(0,u.EV)(null===r||void 0===r?void 0:r.token),e.authenticate(null===r||void 0===r?void 0:r.token)},onError:function(e){(0,d.sD)(e)}});return{mutate:r.mutate,isError:r.isError,error:r.error,isSuccess:r.isSuccess,reset:r.reset}}function x(){var e=(0,l.a)({queryKey:[p.a.me],queryFn:function(){return function(){return m.apply(this,arguments)}()},onError:function(e){h.Am.error(e,d.HK)}}),r=e.data;return void 0===r?[]:r}},6314:function(e,r,n){n.r(r);var t=n(4942),a=n(1413),o=n(9439),s=n(2791),i=n(5043),u=n(1087),c=n(3722),l=n(2575),d=n(184);r.default=function(){var e=(0,s.useState)({}),r=(0,o.Z)(e,2),n=r[0],p=r[1],h=(0,s.useState)({}),f=(0,o.Z)(h,2),m=f[0],v=f[1],x=(0,l.f)().mutate,w=(0,c.B)(),b=function(e,r){p((0,a.Z)((0,a.Z)({},n),{},(0,t.Z)({},e,r)))},g=function(e,r){v((0,a.Z)((0,a.Z)({},m),{},(0,t.Z)({},e,r)))};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h1",{children:"Login"}),(0,d.jsxs)(i.cw,{onSubmit:function(){x(n)},children:[(0,d.jsx)(i.II,{name:"email",label:"Email Address",value:n.email,onChange:b,type:"email",validationHandler:g,error:m.email,required:!0,size:"large"}),(0,d.jsx)(i.WU,{name:"password",label:"Password",value:n.password,onChange:b,validationHandler:g,error:m.password,required:!0,size:"large"}),(0,d.jsx)(i.zx,{title:"login",size:"large",className:w?"btn-disabled":"",loading:1===w,disabled:1===w})]}),(0,d.jsxs)("div",{className:"link-wrapper",children:[(0,d.jsx)("span",{children:"Don't have an Account? "}),(0,d.jsx)(u.rU,{to:"/register",children:"Enroll here"})]}),(0,d.jsxs)("div",{className:"link-wrapper",children:[(0,d.jsx)("span",{children:"Forgot your password? "}),(0,d.jsx)(u.rU,{to:"/forgot-Password",children:"Reset it here"})]})]})}}}]);
//# sourceMappingURL=314.bdba977a.chunk.js.map