"use strict";(self.webpackChunkamsweb=self.webpackChunkamsweb||[]).push([[836],{6751:function(A,t,o){o.d(t,{b:function(){return n}});var e={baseURL:"https://impactlife.azurewebsites.net/api/v1"},n=o(1243).Z.create(e)},1836:function(A,t,o){o.r(t),o.d(t,{default:function(){return w}});var e=o(1413),n=o(9439),z=o(3722),r=o(2791),s=o(7063),a=o(7689),i=o(1087),c=o(347),l=o(3348),u=o(2267),B=o(4165),Q=o(5861),E=o(6751),g=o(6403),C=o(3418),F=o(749),y=o(5985),U=o(6414);function d(){return(d=(0,Q.Z)((0,B.Z)().mark((function A(t){var o;return(0,B.Z)().wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,(0,E.b)({url:"/attendance/sign-out-qr?content=".concat(t.qrCode,"&long=").concat(t.long,"&lat=").concat(t.lat),method:"POST",headers:{"Content-Type":"multipart/form-data"}});case 2:return o=A.sent,A.abrupt("return",null===o||void 0===o?void 0:o.data);case 4:case"end":return A.stop()}}),A)})))).apply(this,arguments)}function x(){var A=(0,g.NL)(),t=(0,C.D)({mutationFn:function(A){return function(A){return d.apply(this,arguments)}(A)},onSuccess:function(t){y.Am.success("Clock Out successfull",F.HK),A.invalidateQueries([U.a.clockIn])},onError:function(A){(0,F.sD)(A,F.HK)}});return{mutate:t.mutate,isError:t.isError,error:t.error,isSuccess:t.isSuccess,reset:t.reset}}var R=o(6453),j=o(184),w=function(){var A=(0,r.useState)({}),t=(0,n.Z)(A,2),o=t[0],B=t[1],Q=(0,r.useState)({}),E=(0,n.Z)(Q,2),g=E[0],C=E[1],F=(0,r.useState)(null),y=(0,n.Z)(F,2),U=y[0],d=y[1],w=(0,r.useState)(!1),q=(0,n.Z)(w,2),m=q[0],D=q[1],I=x(),h=I.mutate,M=I.reset,f=I.isSuccess,v=I.isError,H=(0,z.B)(),p=(0,a.s0)();return f&&(M(),p(c.oj.HOME)),v&&p(c.oj.HOME),(0,r.useEffect)((function(){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(A){B((0,e.Z)((0,e.Z)({},o),{},{long:A.coords.longitude.toString(),lat:A.coords.latitude.toString()}))}),(function(){C((0,e.Z)((0,e.Z)({},g),{},{location:"Unable to retrieve your location"}))})):C((0,e.Z)((0,e.Z)({},g),{},{location:"Geolocation is not supported by your browser"}))}),[]),o.lat&&o.long?(0,j.jsxs)("div",{className:u.Z.container,children:[(0,j.jsx)("div",{className:u.Z.logoContainer,children:(0,j.jsx)(i.rU,{to:c.oj.HOME,children:(0,j.jsx)("img",{src:l,alt:"logo"})})}),(0,j.jsx)("div",{className:u.Z.qrCode,children:U?null:(0,j.jsx)(s.T,{onResult:function(A,t){if(A){d(null===A||void 0===A?void 0:A.text);var n=(0,e.Z)((0,e.Z)({},o),{},{qrCode:null===A||void 0===A?void 0:A.text});h(n)}t&&(console.info(t),C((0,e.Z)((0,e.Z)({},g),{},{QrReader:t})))},constraints:{facingMode:m?"user":"environment"},style:{height:"100px",width:"30%"}})}),(0,j.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100%"},children:(0,j.jsxs)("button",{className:u.Z.btnContainer,onClick:function(){D(!m),d(null),C({})},children:["Switch Camera (",m?"Back":"Front",")"]})}),U&&(0,j.jsx)("div",{className:u.Z.result,children:(0,j.jsxs)("h4",{children:["Scanned location :",(0,j.jsxs)("span",{style:{color:"black"},children:[" ",U]})]})}),Boolean(H)&&(0,j.jsx)(R.aN,{})]}):(0,j.jsx)("h1",{children:"Please turn on your location"})}},2267:function(A,t){t.Z={container:"styles_container__B+Po3",qrCode:"styles_qrCode__l9wVC",btnContainer:"styles_btnContainer__WZKTJ",result:"styles_result__uA2DE",logoContainer:"styles_logoContainer__UxVta",imgContainer:"styles_imgContainer__jjjBQ",home:"styles_home__3lA8v",logo:"styles_logo__LLS9j",yellow:"styles_yellow__aWFoT"}},3348:function(A){A.exports="data:image/jpeg;base64,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"}}]);
//# sourceMappingURL=836.98076543.chunk.js.map