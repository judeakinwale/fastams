{"version":3,"file":"static/js/314.7b3d6f59.chunk.js","mappings":"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","sources":["axios-Instance/index.js","axios-Instance/constants.js","modules/Auth/Login/hooks/index.js","modules/Auth/Login/index.js","../node_modules/@tanstack/react-query/src/useIsMutating.ts"],"sourcesContent":["import axios from \"axios\";\nimport { baseURL } from \"./constants\";\n\nconst config = { baseURL: baseURL };\nexport const axiosInstance = axios.create(config);\n","// export const baseURL = \"https://pyams.azurewebsites.net/api/v1\";\nexport const baseURL = \"https://impactlife.azurewebsites.net/api/v1\";\n// export const baseURL = \"https://qrcodeattendance.azurewebsites.net/api\";\n","import { axiosInstance } from \"../../../../axios-Instance\";\nimport { useContext } from \"react\";\nimport { AuthContext } from \"../../../../context\";\nimport { getLoginToken, setLoginToken } from \"../../../../storage\";\nimport { useMutation, useQuery } from \"@tanstack/react-query\";\nimport { errorAlert, successAlert, toastOptions } from \"../../../../utils\";\nimport { queryKeys } from \"../../../../react-query/constants\";\nimport { toast } from \"react-toastify\";\n\nasync function userLogin(formData) {\n\tconst data = await axiosInstance({\n\t\turl: \"/auth\",\n\t\tmethod: \"POST\",\n\t\tdata: formData,\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t},\n\t});\n\n\treturn data?.data;\n}\n\nasync function getMe() {\n    const data = await axiosInstance({\n      url: \"/auth/me\",\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${getLoginToken()}`,\n      },\n    });\n  \n    return data?.data;\n  }\n\nexport function useLogin() {\n\tconst authCtx = useContext(AuthContext);\n\tconst { mutate, isError, error, isSuccess, reset } = useMutation({\n\t\tmutationFn: (formData) => userLogin(formData),\n\t\tonSuccess: (data) => {\n\t\t\tsuccessAlert(\"Login Successful\");\n\t\t\tsetLoginToken(data?.token);\n\t\t\tauthCtx.authenticate(data?.token);\n\t\t},\n\t\tonError: (error) => {\n\t\t\terrorAlert(error);\n\t\t},\n\t});\n\treturn { mutate, isError, error, isSuccess, reset };\n}\n\nexport function useGetMe() {\n\tconst fallback = [];\n\tconst { data = fallback } = useQuery({\n\t  queryKey: [queryKeys.me],\n\t  queryFn: () => getMe(),\n\t  onError: (error) => {\n\t\t\n\t\ttoast.error(error, toastOptions);\n\t  },\n\t});\n\treturn data;\n  }\n  ","import React, { useState } from \"react\";\nimport { Button, FormGroup, Input, PasswordInput } from \"mtforms\";\nimport { Link } from \"react-router-dom\";\nimport { useIsMutating } from \"@tanstack/react-query\";\n\nimport { useLogin } from \"./hooks\";\n\nconst Login = () => {\n  const [formData, setFormData] = useState({});\n  const [errors, setErrors] = useState({});\n  const { mutate } = useLogin();\n  const isLoading = useIsMutating();\n\n  const handleChange = (name, value) => {\n    setFormData({ ...formData, [name]: value });\n  };\n\n  const validationHandler = (name, error) => {\n    setErrors({ ...errors, [name]: error });\n  };\n\n  const submitHandler = () => {\n    mutate(formData);\n  };\n\n  return (\n    <>\n      <h1>Login</h1>\n      <FormGroup onSubmit={submitHandler}>\n        <Input\n          name=\"email\"\n          label=\"Email Address\"\n          value={formData[\"email\"]}\n          onChange={handleChange}\n          type=\"email\"\n          validationHandler={validationHandler}\n          error={errors.email}\n          required={true}\n          size=\"large\"\n        />\n        <PasswordInput\n          name=\"password\"\n          label=\"Password\"\n          value={formData[\"password\"]}\n          onChange={handleChange}\n          validationHandler={validationHandler}\n          error={errors.password}\n          required={true}\n          size=\"large\"\n        />\n        <Button\n          title=\"login\"\n          size=\"large\"\n          className={isLoading ? \"btn-disabled\" : \"\"}\n          loading={isLoading === 1}\n          disabled={isLoading === 1}\n        />\n      </FormGroup>\n\n      <div className=\"link-wrapper\">\n        <span>Don't have an Account? </span>\n\n        <Link to=\"/register\">Enroll here</Link>\n      </div>\n      <div className=\"link-wrapper\">\n        <span>Forgot your password? </span>\n        <Link to=\"/forgot-Password\">Reset it here</Link>\n      </div>\n    </>\n  );\n};\n\nexport default Login;\n","'use client'\nimport * as React from 'react'\nimport { useSyncExternalStore } from './useSyncExternalStore'\n\nimport type { MutationKey, MutationFilters } from '@tanstack/query-core'\nimport { notifyManager, parseMutationFilterArgs } from '@tanstack/query-core'\nimport type { ContextOptions } from './types'\nimport { useQueryClient } from './QueryClientProvider'\n\ninterface Options extends ContextOptions {}\n\nexport function useIsMutating(\n  filters?: MutationFilters,\n  options?: Options,\n): number\nexport function useIsMutating(\n  mutationKey?: MutationKey,\n  filters?: Omit<MutationFilters, 'mutationKey'>,\n  options?: Options,\n): number\nexport function useIsMutating(\n  arg1?: MutationKey | MutationFilters,\n  arg2?: Omit<MutationFilters, 'mutationKey'> | Options,\n  arg3?: Options,\n): number {\n  const [filters, options = {}] = parseMutationFilterArgs(arg1, arg2, arg3)\n\n  const queryClient = useQueryClient({ context: options.context })\n  const mutationCache = queryClient.getMutationCache()\n\n  return useSyncExternalStore(\n    React.useCallback(\n      (onStoreChange) =>\n        mutationCache.subscribe(notifyManager.batchCalls(onStoreChange)),\n      [mutationCache],\n    ),\n    () => queryClient.isMutating(filters),\n    () => queryClient.isMutating(filters),\n  )\n}\n"],"names":["config","baseURL","axiosInstance","axios","_userLogin","_asyncToGenerator","_regeneratorRuntime","mark","_callee","formData","data","wrap","_context","prev","next","url","method","headers","sent","abrupt","stop","apply","arguments","_getMe","_callee2","_context2","Authorization","concat","getLoginToken","useLogin","authCtx","useContext","AuthContext","_useMutation","useMutation","mutationFn","_x","userLogin","onSuccess","successAlert","setLoginToken","token","authenticate","onError","error","errorAlert","mutate","isError","isSuccess","reset","useGetMe","_useQuery","useQuery","queryKey","queryKeys","queryFn","getMe","toast","toastOptions","_useQuery$data","_useState","useState","_useState2","_slicedToArray","setFormData","_useState3","_useState4","errors","setErrors","isLoading","useIsMutating","handleChange","name","value","_objectSpread","_defineProperty","validationHandler","_jsxs","_Fragment","children","_jsx","FormGroup","onSubmit","Input","label","onChange","type","email","required","size","PasswordInput","password","Button","title","className","loading","disabled","Link","to","arg1","arg2","arg3","_parseMutationFilterA","parseMutationFilterArgs","_parseMutationFilterA2","filters","_parseMutationFilterA3","options","mutationCache","queryClient","getMutationCache","useSyncExternalStore","React","onStoreChange","subscribe","notifyManager","isMutating"],"sourceRoot":""}