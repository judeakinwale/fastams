{"version":3,"file":"static/js/315.4e39053b.chunk.js","mappings":"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","sources":["axios-Instance/index.js","axios-Instance/constants.js","modules/Auth/FacialRecognition/Clockin/components/EmailAddress.jsx","modules/Auth/FacialRecognition/Clockin/hooks/index.js","modules/Auth/FacialRecognition/Clockout/index.js","modules/Auth/Register/components/FormWrapper.jsx","modules/Auth/Register/components/PictureUpload.jsx","utils/useMultistepForm.js","../node_modules/@tanstack/react-query/src/useIsMutating.ts"],"sourcesContent":["import axios from \"axios\";\nimport { baseURL } from \"./constants\";\n\nconst config = { baseURL: baseURL };\nexport const axiosInstance = axios.create(config);\n","// export const baseURL = \"https://pyams.azurewebsites.net/api/v1\";\nexport const baseURL = \"https://impactlife.azurewebsites.net/api/v1\";\n// export const baseURL = \"https://qrcodeattendance.azurewebsites.net/api\";\n","import { Input } from \"mtforms\";\nimport { FormWrapper } from \"../../../Register/components/FormWrapper\";\n\nexport function EmailAddress({\n\tformData,\n\thandleChange,\n\tvalidationHandler,\n\terrors,\n}) {\n\treturn (\n\t\t<FormWrapper title=\"Enter details\">\n\t\t\t<Input\n\t\t\t\tname=\"email\"\n\t\t\t\tlabel=\"Email Address\"\n\t\t\t\tvalue={formData[\"email\"]}\n\t\t\t\tonChange={handleChange}\n\t\t\t\ttype=\"email\"\n\t\t\t\tvalidationHandler={validationHandler}\n\t\t\t\terror={errors.email}\n\t\t\t\trequired={true}\n\t\t\t\tsize=\"large\"\n\t\t\t/>\n\t\t</FormWrapper>\n\t);\n}\n","import { useMutation, useQuery, useQueryClient } from \"@tanstack/react-query\";\nimport { useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { axiosInstance } from \"../../../../../axios-Instance\";\nimport { queryKeys } from \"../../../../../react-query/constants\";\nimport { PublicPaths } from \"../../../../../routes/path\";\nimport { errorAlert, toastOptions } from \"../../../../../utils\";\n\nasync function userClockin(formData) {\n\tconst data = await axiosInstance({\n\t\turl: `/attendance/sign-in?email=${formData[\"email\"]}&long=${formData.long}&lat=${formData.lat}`,\n\t\tmethod: \"POST\",\n\t\tdata: { file: formData.file },\n\t\theaders: {\n\t\t\t\"Content-Type\": \"multipart/form-data\",\n\t\t},\n\t});\n\n\treturn data?.data;\n}\n\nasync function userClockOut(formData) {\n\tconst data = await axiosInstance({\n\t\turl: `/attendance/sign-out?email=${formData[\"email\"]}&long=${formData.long}&lat=${formData.lat}`,\n\t\tmethod: \"PATCH\",\n\t\tdata: { file: formData.file },\n\t\theaders: {\n\t\t\t\"Content-Type\": \"multipart/form-data\",\n\t\t},\n\t});\n\n\treturn data?.data;\n}\n\n// async function getAttendance() {\n//   const data = await axiosInstance({\n//     url: \"/Attendance/UserAttendStatus\",\n//     method: \"GET\",\n//     headers: {\n//       \"Content-Type\": \"application/json\",\n//       Authorization: `Bearer ${getLoginToken()}`,\n//     },\n//   });\n\n//   return data?.data;\n// }\n\nexport function useClockIN() {\n\tconst queryClient = useQueryClient();\n\tconst navigate = useNavigate();\n\tconst { mutate, isError, error, isSuccess, reset } = useMutation({\n\t\tmutationFn: (formData) => userClockin(formData),\n\t\tonSuccess: (data) => {\n\t\t\ttoast.success(\"Clock in successfull\", toastOptions);\n\t\t\tqueryClient.invalidateQueries([queryKeys.clockIn]);\n\t\t\tsetTimeout(() => {\n\t\t\t\tnavigate(PublicPaths.HOME);\n\t\t\t}, 3000);\n\t\t},\n\t\tonError: (error) => {\n\t\t\terrorAlert(error, toastOptions);\n\t\t},\n\t});\n\n\treturn { mutate, isError, error, isSuccess, reset };\n}\n\nexport function useClockOut() {\n\tconst queryClient = useQueryClient();\n\tconst navigate = useNavigate();\n\tconst { mutate, isError, error, isSuccess, reset } = useMutation({\n\t\tmutationFn: (formData) => userClockOut(formData),\n\t\tonSuccess: (data) => {\n\t\t\ttoast.success(\"Clock Out successfull\", toastOptions);\n\t\t\tqueryClient.invalidateQueries([queryKeys.clockIn]);\n\t\t\tsetTimeout(() => {\n\t\t\t\tnavigate(PublicPaths.HOME);\n\t\t\t}, 3000);\n\t\t},\n\t\tonError: (error) => {\n\t\t\terrorAlert(error, toastOptions);\n\t\t},\n\t});\n\n\treturn { mutate, isError, error, isSuccess, reset };\n}\n// export function useGetAttendance() {\n//   const fallback = [];\n//   const { data = fallback } = useQuery({\n//     queryKey: [queryKeys.clockIn],\n//     queryFn: () => getAttendance(),\n//     onError: (error) => {\n\n//       toast.error(error, toastOptions);\n//     },\n//   });\n//   return data;\n// }\n","import React, { useCallback, useRef, useState } from \"react\";\nimport { Button, FormGroup } from \"mtforms\";\nimport { useIsMutating } from \"@tanstack/react-query\";\n\nimport { useClockOut } from \"../Clockin/hooks\";\nimport { dataURLtoFile, infoAlert, successAlert } from \"../../../../utils\";\nimport { useMultistepForm } from \"../../../../utils/useMultistepForm\";\nimport { EmailAddress } from \"../Clockin/components/EmailAddress\";\nimport { PictureUpload } from \"../../Register/components/PictureUpload\";\nimport { useEffect } from \"react\";\n\nconst ClockOut = () => {\n\tconst [formData, setFormData] = useState({});\n\tconst [picture, setPicture] = useState(null);\n\tconst [errors, setErrors] = useState({});\n\tconst [cameraActive, setCameraActive] = useState(false);\n\tconst webcamRef = useRef(null);\n\tconst { mutate, isSuccess, reset } = useClockOut();\n\tconst isLoading = useIsMutating();\n\n\t// STUB: for location services\n\tuseEffect(() => {\n\t\tconst getLocation = () => {\n\t\t\tif (!navigator.geolocation) {\n\t\t\t\tsetErrors({\n\t\t\t\t\t...errors,\n\t\t\t\t\tlocation: \"Geolocation is not supported by your browser\",\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tnavigator.geolocation.getCurrentPosition(\n\t\t\t\t\t(position) => {\n\t\t\t\t\t\tsetFormData({\n\t\t\t\t\t\t\t...formData,\n\t\t\t\t\t\t\tlong: position.coords.longitude.toString(),\n\t\t\t\t\t\t\tlat: position.coords.latitude.toString(),\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\t() => {\n\t\t\t\t\t\tsetErrors({\n\t\t\t\t\t\t\t...errors,\n\t\t\t\t\t\t\tlocation: \"Unable to retrieve your location\",\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t};\n\t\tgetLocation();\n\t}, [errors, formData]);\n\n\t// STUB: capture image & deactivate camera\n\tconst capture = useCallback(() => {\n\t\tconst imageSrc = webcamRef.current.getScreenshot();\n\t\tif (imageSrc) {\n\t\t\tsetPicture(imageSrc);\n\t\t\tsetFormData({\n\t\t\t\t...formData,\n\t\t\t\tfile: dataURLtoFile(imageSrc, \"image\"),\n\t\t\t});\n\t\t\tsetCameraActive(false);\n\t\t\tsuccessAlert(`Picture captured!`);\n\t\t} else {\n\t\t\tinfoAlert(\n\t\t\t\t`Please wait for camera to load before clicking on capture!`\n\t\t\t);\n\t\t}\n\t}, [webcamRef, formData]);\n\n\t// STUB: turn on camera\n\tconst handleCameraClick = (e) => {\n\t\tsetCameraActive(true);\n\t};\n\n\tconst handleChange = (name, value) => {\n\t\tsetFormData({ ...formData, [name]: value });\n\t};\n\n\tconst validationHandler = (name, error) => {\n\t\tsetErrors({ ...errors, [name]: error });\n\t};\n\n\t// STUB: multistep form hook\n\tconst {\n\t\tsteps,\n\t\tcurrentStepIndex,\n\t\tstep,\n\t\tisFirstStep,\n\t\tisLastStep,\n\t\tback,\n\t\tnext,\n\t} = useMultistepForm([\n\t\t<EmailAddress\n\t\t\tformData={formData}\n\t\t\terrors={errors}\n\t\t\tvalidationHandler={validationHandler}\n\t\t\thandleChange={handleChange}\n\t\t/>,\n\t\t<PictureUpload\n\t\t\twebcamRef={webcamRef}\n\t\t\tisLoading={isLoading}\n\t\t\tcapture={capture}\n\t\t\tcameraActive={cameraActive}\n\t\t\thandleCameraClick={handleCameraClick}\n\t\t\tpicture={picture}\n\t\t\tformData={formData}\n\t\t/>,\n\t]);\n\n\tconst submitHandler = () => {\n\t\tif (!isLastStep) return next();\n\t\tif (!formData.file) {\n\t\t\tinfoAlert(\n\t\t\t\t`No picture found.\n\t\t\t\tPlease click on 'Take Picture' to attach your picture to the form`\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\t\tmutate(formData);\n\t};\n\n\tif (isSuccess) {\n\t\treset();\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<h1>Clock Out</h1>\n\t\t\t<FormGroup onSubmit={submitHandler}>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\ttop: \".5rem\",\n\t\t\t\t\t\tright: \".5rem\",\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{currentStepIndex + 1} / {steps.length}\n\t\t\t\t</div>\n\t\t\t\t{step}\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tmarginTop: \"1rem\",\n\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\tflexDirection: \"column\",\n\t\t\t\t\t\tgap: \".5rem\",\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttitle={isLastStep ? \"Finish\" : \"Next\"}\n\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tclassName={isLoading ? \"btn-disabled\" : \"\"}\n\t\t\t\t\t\tloading={isLoading === 1}\n\t\t\t\t\t\tdisabled={isLoading === 1}\n\t\t\t\t\t/>\n\t\t\t\t\t{!isFirstStep && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttitle=\"back\"\n\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\tonClick={back}\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName={isLoading ? \"btn-disabled\" : \"btnRedTxt\"}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</FormGroup>\n\t\t</>\n\t);\n};\n\nexport default ClockOut;\n","export function FormWrapper({ title, children }) {\n\treturn (\n\t\t<>\n\t\t\t<h2\n\t\t\t\tstyle={{ textAlign: \"left\", margin: 0, marginBottom: \"2rem\" }}\n\t\t\t>\n\t\t\t\t{title}\n\t\t\t</h2>\n\t\t\t<>{children}</>\n\t\t</>\n\t);\n}\n","import { Button } from \"mtforms\";\nimport Webcam from \"react-webcam\";\n\nimport { FormWrapper } from \"./FormWrapper\";\nimport \"./picture-upload.css\";\n\nexport function PictureUpload({\n  webcamRef,\n  capture,\n  cameraActive,\n  handleCameraClick,\n  picture,\n  formData,\n}) {\n  let output;\n\n  if (cameraActive) {\n    output = (\n      <>\n        <div className=\"webcam\">\n          <Webcam audio={false} ref={webcamRef} screenshotFormat=\"image/jpeg\" />\n        </div>\n        <Button\n          title=\"capture\"\n          type=\"button\"\n          style={{ background: \"black\" }}\n          onClick={capture}\n        />\n      </>\n    );\n  }\n  if (!cameraActive && picture) {\n    output = (\n      <>\n        <div className=\"webcam\">\n          <img src={picture} alt={formData.first_name} />\n        </div>\n        <Button\n          style={{ background: \"black\" }}\n          title=\"retake picture\"\n          type=\"button\"\n          onClick={handleCameraClick}\n        />\n      </>\n    );\n  }\n  if (!cameraActive && !picture) {\n    output = (\n      <Button\n        style={{ background: \"#3c7d5c\" }}\n        title=\"take picture\"\n        type=\"button\"\n        onClick={handleCameraClick}\n      />\n    );\n  }\n\n  return <FormWrapper title=\"Picture Upload\">{output}</FormWrapper>;\n}\n","// NOTE: create hook to manage multistep form\n\nimport { useState } from \"react\";\n\nexport function useMultistepForm(steps) {\n\tconst [currentStepIndex, setCurrentStepIndex] = useState(0);\n\n\t// STUB: go to next form page\n\tfunction next() {\n\t\tsetCurrentStepIndex((i) => {\n\t\t\tif (i >= steps.length - 1) return i;\n\t\t\treturn i + 1;\n\t\t});\n\t}\n\n\t// STUB: go to previous form page\n\tfunction back() {\n\t\tsetCurrentStepIndex((i) => {\n\t\t\tif (i <= 0) return i;\n\t\t\treturn i - 1;\n\t\t});\n\t}\n\n\t// STUB: go to specific form page\n\tfunction goTo(index) {\n\t\tsetCurrentStepIndex(index);\n\t}\n\n\treturn {\n\t\tcurrentStepIndex,\n\t\tstep: steps[currentStepIndex],\n\t\tsteps,\n\t\tisFirstStep: currentStepIndex === 0,\n\t\tisLastStep: currentStepIndex === steps.length - 1,\n\t\tgoTo,\n\t\tnext,\n\t\tback,\n\t};\n}\n","'use client'\nimport * as React from 'react'\nimport { useSyncExternalStore } from './useSyncExternalStore'\n\nimport type { MutationKey, MutationFilters } from '@tanstack/query-core'\nimport { notifyManager, parseMutationFilterArgs } from '@tanstack/query-core'\nimport type { ContextOptions } from './types'\nimport { useQueryClient } from './QueryClientProvider'\n\ninterface Options extends ContextOptions {}\n\nexport function useIsMutating(\n  filters?: MutationFilters,\n  options?: Options,\n): number\nexport function useIsMutating(\n  mutationKey?: MutationKey,\n  filters?: Omit<MutationFilters, 'mutationKey'>,\n  options?: Options,\n): number\nexport function useIsMutating(\n  arg1?: MutationKey | MutationFilters,\n  arg2?: Omit<MutationFilters, 'mutationKey'> | Options,\n  arg3?: Options,\n): number {\n  const [filters, options = {}] = parseMutationFilterArgs(arg1, arg2, arg3)\n\n  const queryClient = useQueryClient({ context: options.context })\n  const mutationCache = queryClient.getMutationCache()\n\n  return useSyncExternalStore(\n    React.useCallback(\n      (onStoreChange) =>\n        mutationCache.subscribe(notifyManager.batchCalls(onStoreChange)),\n      [mutationCache],\n    ),\n    () => queryClient.isMutating(filters),\n    () => queryClient.isMutating(filters),\n  )\n}\n"],"names":["config","baseURL","axiosInstance","axios","EmailAddress","_ref","formData","handleChange","validationHandler","errors","_jsx","FormWrapper","title","children","Input","name","label","value","onChange","type","error","email","required","size","_userClockin","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","wrap","_context","prev","next","url","concat","long","lat","method","file","headers","sent","abrupt","stop","apply","arguments","_userClockOut","_callee2","_context2","useClockIN","queryClient","useQueryClient","navigate","useNavigate","_useMutation","useMutation","mutationFn","_x","userClockin","onSuccess","toast","toastOptions","invalidateQueries","queryKeys","setTimeout","PublicPaths","onError","errorAlert","mutate","isError","isSuccess","reset","useClockOut","_useMutation2","_x2","userClockOut","_useState","useState","_useState2","_slicedToArray","setFormData","_useState3","_useState4","picture","setPicture","_useState5","_useState6","setErrors","_useState7","_useState8","cameraActive","setCameraActive","webcamRef","useRef","_useClockOut","isLoading","useIsMutating","useEffect","navigator","geolocation","getCurrentPosition","position","_objectSpread","coords","longitude","toString","latitude","location","capture","useCallback","imageSrc","current","getScreenshot","dataURLtoFile","successAlert","infoAlert","_useMultistepForm","useMultistepForm","_defineProperty","PictureUpload","handleCameraClick","e","steps","currentStepIndex","step","isFirstStep","isLastStep","back","_jsxs","_Fragment","FormGroup","onSubmit","style","top","right","length","marginTop","display","flexDirection","gap","Button","className","loading","disabled","onClick","textAlign","margin","marginBottom","output","Webcam","audio","ref","screenshotFormat","background","src","alt","first_name","setCurrentStepIndex","goTo","index","i","arg1","arg2","arg3","_parseMutationFilterA","parseMutationFilterArgs","_parseMutationFilterA2","filters","_parseMutationFilterA3","options","mutationCache","getMutationCache","useSyncExternalStore","React","onStoreChange","subscribe","notifyManager","isMutating"],"sourceRoot":""}