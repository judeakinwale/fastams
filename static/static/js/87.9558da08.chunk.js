"use strict";(self.webpackChunkamsweb=self.webpackChunkamsweb||[]).push([[87],{8593:function(e,t,n){n.d(t,{Z:function(){return l}});n(2791);var i=n(1087),a=n(347),r=n(184),l=function(e){return(0,r.jsx)("div",{className:"menubar",children:(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{className:e.time,children:(0,r.jsx)(i.rU,{to:a.oj.ADMIN_SETTINGS,children:" Time"})}),(0,r.jsx)("li",{className:e.location,children:(0,r.jsx)(i.rU,{to:a.oj.ADMIN_SETTINGS_LOCATION,children:"Location"})}),(0,r.jsx)("li",{className:e.authentication,children:(0,r.jsx)(i.rU,{to:a.oj.ADMIN_SETTINGS_AUTHENTICATION,children:"Authentication"})})]})})}},6044:function(e,t,n){function i(e){if(e)return(e=new Date(e)).toUTCString()}n.d(t,{CP:function(){return r},rH:function(){return l},zF:function(){return a}});var a=[{title:"First Name",field:"user.first_name"},{title:"Last Name",field:"user.last_name"},{title:"Email",field:"email"},{title:"Location",field:"location.name"},{title:"Check In Time",field:"created_at",render:function(e){return i(null===e||void 0===e?void 0:e.created_at)}},{title:"Check Out Time",field:"updated_at",render:function(e){return i(null===e||void 0===e?void 0:e.updated_at)}}],r=[{title:"Email",field:"email"},{title:"Check In Time",field:"created_at",render:function(e){return i(null===e||void 0===e?void 0:e.created_at)}},{title:"Check Out Time",field:"updated_at",render:function(e){return i(null===e||void 0===e?void 0:e.updated_at)}}],l=[{title:"Name",field:"name"},{title:"Address",field:"address"},{title:"Latitude",field:"latitude"},{title:"Longitude",field:"longitude"},{title:"Radius",field:"radius"}]},6725:function(e,t,n){n.r(t);var i=n(4942),a=n(1413),r=n(9439),l=n(2791),s=(n(5088),n(8820)),o=n(5763),d=n(8593),c=n(2209),u=n(5043),m=n(8424),f=n(5985),h=n(749),g=n(3722),x=n(6044),v=n(2062),N=n.n(v),j=n(6075),I=n(184);t.default=function(){var e=(0,l.useState)(!1),t=(0,r.Z)(e,2),n=t[0],v=t[1],p=(0,l.useState)(!1),_=(0,r.Z)(p,2),C=_[0],b=_[1],y=(0,l.useState)(!1),S=(0,r.Z)(y,2),Z=S[0],T=S[1],z=(0,l.useState)({}),L=(0,r.Z)(z,2),k=L[0],O=L[1],A=(0,l.useState)({}),w=(0,r.Z)(A,2),E=w[0],H=w[1],D=(0,g.B)(),U=(0,m._z)().data,q=(0,m.Qq)(),M=q.mutate,F=q.isError,G=q.isSuccess,B=q.reset,P=q.error,K=(0,m.m3)(),Q=K.mutate,R=K.isError,V=K.isSuccess,J=K.reset,W=K.error;F&&(B(),(0,h.sD)(P)),G&&(B(),v(!1),O({}),b(!1),f.Am.success("Location Updated Successfully",h.HK)),R&&(J(),(0,h.sD)(W)),V&&(O({}),v(!1),J());var X=(0,m.zz)(),Y=X.mutate,$=X.isError,ee=X.isSuccess,te=X.reset,ne=X.error;$&&(te(),(0,h.sD)(ne)),ee&&(te(),f.Am.success("Location Deleted Successfully",h.HK));var ie=function(e,t){O((0,a.Z)((0,a.Z)({},k),{},(0,i.Z)({},e,t)))},ae=function(e,t){H((0,a.Z)((0,a.Z)({},E),{},(0,i.Z)({},e,t)))};return(0,I.jsx)(j.Z,{name:"Settings",title:"Settings",children:(0,I.jsx)("div",{className:"settings_container",children:(0,I.jsx)("div",{className:"settings_container_layout",children:(0,I.jsxs)("div",{className:"setting_container",children:[(0,I.jsx)(d.Z,{location:"remote"}),(0,I.jsxs)("div",{className:"title",children:[(0,I.jsx)("span",{className:"ams__icon",children:(0,I.jsx)(o.Sw5,{})}),"Office Location",(0,I.jsx)("span",{className:"companyName",children:(0,I.jsx)(s.QML,{className:"ams__icon_btns",onClick:function(){v(!0)}})})]}),(0,I.jsx)("div",{className:"title",children:(0,I.jsx)(u.iA,{columns:x.rH,data:U,actions:function(e){return[{name:"Edit",onClick:function(e){O(e),b(!0),v(!0)}},{name:"Delete Location",onClick:function(e){N()({title:"Are you sure?",text:"Once deleted, you will not be able to recover this",icon:"warning",buttons:!0,dangerMode:!0}).then((function(t){t&&Y(e.id)}))}}]},selectID:"id",showFilter:!0})}),(0,I.jsx)(c.Z,{isVisible:n,title:"",size:"md",content:(0,I.jsx)("div",{className:"modal_form_container",children:Z?"fetching your current location":(0,I.jsxs)(u.cw,{validation:k,errors:E,setErrors:H,className:"Form",children:[(0,I.jsx)(u.II,{name:"name",label:"Name",value:k.name,onChange:ie,type:"text",validationHandler:ae,error:E.name,required:!0,readOnly:!0,size:"large",className:"formInput"}),(0,I.jsx)(u.II,{name:"phone",label:"Phone",value:k.phone,onChange:ie,type:"text",validationHandler:ae,error:E.phone,required:!0,readOnly:!0,size:"large",className:"formInput"}),(0,I.jsx)(u.II,{name:"latitude",label:"Latitude",value:k.latitude,onChange:ie,type:"text",validationHandler:ae,error:E.latitude,required:!0,readOnly:!0,size:"large",className:"formInput"}),(0,I.jsx)(u.II,{name:"longitude",label:"Longitude",value:k.longitude,onChange:ie,type:"text",validationHandler:ae,error:E.longitude,required:!0,readOnly:!0,size:"large",className:"formInput"}),(0,I.jsx)(u.II,{name:"radius",label:"Radius",value:k.radius,onChange:ie,type:"text",validationHandler:ae,error:E.radius,required:!0,readOnly:!0,size:"large",className:"formInput"}),(0,I.jsx)(u.II,{name:"address",label:"address",value:k.address,onChange:ie,type:"text",validationHandler:ae,error:E.address,required:!0,readOnly:!0,size:"large",className:"formInput"}),(0,I.jsx)(u.zx,{size:"large",type:"button",onClick:function(){navigator.geolocation?(T(!0),navigator.geolocation.getCurrentPosition((function(e){O((0,a.Z)((0,a.Z)({},k),{},{longitude:e.coords.longitude.toString(),latitude:e.coords.latitude.toString()})),T(!1)}),(function(){H((0,a.Z)((0,a.Z)({},E),{},{location:"Unable to retrieve your location"}))}))):H((0,a.Z)((0,a.Z)({},E),{},{location:"Geolocation is not supported by your browser"}))},title:D?"..loading":"Use Current Location",disabled:!!D,className:"formButton"}),(0,I.jsx)(u.zx,{size:"large",onClick:function(){!0===C?M(k):Q(k)},title:D?"submitting":"Save",disabled:!!D,className:"formButton"})]})}),onClose:function(){v(!1),O({}),b(!1),T(!1)},footer:""})]})})})})}},5088:function(){}}]);
//# sourceMappingURL=87.9558da08.chunk.js.map