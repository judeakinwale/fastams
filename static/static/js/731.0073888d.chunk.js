"use strict";(self.webpackChunkamsweb=self.webpackChunkamsweb||[]).push([[731],{6751:function(n,e,r){r.d(e,{b:function(){return a}});var t={baseURL:"https://impactlife.azurewebsites.net/api/v1"},a=r(1243).Z.create(t)},9731:function(n,e,r){r.r(e);var t=r(4942),a=r(1413),i=r(9439),u=r(2791),o=r(1087),s=r(3722),c=r(5043),l=r(347),d=r(2575),f=r(184);e.default=function(){var n=(0,u.useState)({}),e=(0,i.Z)(n,2),r=e[0],p=e[1],h=(0,u.useState)({}),m=(0,i.Z)(h,2),v=m[0],b=m[1],x=(0,s.B)(),w=(0,d.f)().mutate,Z=function(n,e){p((0,a.Z)((0,a.Z)({},r),{},(0,t.Z)({},n,e)))},g=function(n,e){b((0,a.Z)((0,a.Z)({},v),{},(0,t.Z)({},n,e)))};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("h1",{children:"Admin Login"}),(0,f.jsxs)(c.cw,{onSubmit:function(){w(r)},children:[(0,f.jsx)(c.II,{name:"email",label:"Email Address",value:r.email,onChange:Z,type:"email",validationHandler:g,error:v.email,required:!0,size:"large"}),(0,f.jsx)(c.WU,{name:"password",label:"Password",value:r.password,onChange:Z,validationHandler:g,error:v.password,required:!0,size:"large"}),(0,f.jsx)(c.zx,{title:"login",size:"large",className:x?"btn-disabled":"",style:{marginTop:"1rem"},loading:1===x,disabled:1===x})]}),(0,f.jsxs)("div",{className:"link-wrapper",children:[(0,f.jsx)("span",{children:"Forgot your password? "}),(0,f.jsx)(o.rU,{to:l.Ot.FORGOT_PASSWORD,children:"Reset it here"})]})]})}},2575:function(n,e,r){r.d(e,{f:function(){return v},p:function(){return b}});var t=r(4165),a=r(5861),i=r(6751),u=r(2791),o=r(9373),s=r(8096),c=r(3418),l=r(2917),d=r(749),f=r(6414),p=r(5985);function h(){return(h=(0,a.Z)((0,t.Z)().mark((function n(e){var r;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,i.b)({url:"/auth",method:"POST",data:e,headers:{"Content-Type":"application/json"}});case 2:return r=n.sent,n.abrupt("return",null===r||void 0===r?void 0:r.data);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function m(){return(m=(0,a.Z)((0,t.Z)().mark((function n(){var e;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,i.b)({url:"/auth/me",method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat((0,s.KU)())}});case 2:return e=n.sent,n.abrupt("return",null===e||void 0===e?void 0:e.data);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function v(){var n=(0,u.useContext)(o.V),e=(0,c.D)({mutationFn:function(n){return function(n){return h.apply(this,arguments)}(n)},onSuccess:function(e){(0,d.Cq)("Login Successful"),(0,s.EV)(null===e||void 0===e?void 0:e.token),n.authenticate(null===e||void 0===e?void 0:e.token)},onError:function(n){(0,d.sD)(n)}});return{mutate:e.mutate,isError:e.isError,error:e.error,isSuccess:e.isSuccess,reset:e.reset}}function b(){var n=(0,l.a)({queryKey:[f.a.me],queryFn:function(){return function(){return m.apply(this,arguments)}()},onError:function(n){p.Am.error(n,d.HK)}}),e=n.data;return void 0===e?[]:e}},3722:function(n,e,r){r.d(e,{B:function(){return c}});var t=r(9439),a=r(2791),i=r(7413),u=r(3734),o=r(9538),s=r(6403);function c(n,e,r){var c=(0,u.cb)(n,e,r),l=(0,t.Z)(c,2),d=l[0],f=l[1],p=void 0===f?{}:f,h=(0,s.NL)({context:p.context}),m=h.getMutationCache();return(0,i.$)(a.useCallback((function(n){return m.subscribe(o.V.batchCalls(n))}),[m]),(function(){return h.isMutating(d)}),(function(){return h.isMutating(d)}))}}}]);
//# sourceMappingURL=731.0073888d.chunk.js.map