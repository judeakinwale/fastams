{"version":3,"file":"static/js/913.b02efcf0.chunk.js","mappings":"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","sources":["axios-Instance/index.js","axios-Instance/constants.js","modules/Auth/VerifyAccount/hooks/index.js","modules/Auth/VerifyAccount/index.js","../node_modules/@tanstack/react-query/src/useIsMutating.ts"],"sourcesContent":["import axios from \"axios\";\nimport { baseURL } from \"./constants\";\n\nconst config = { baseURL: baseURL };\nexport const axiosInstance = axios.create(config);\n","// export const baseURL = \"https://pyams.azurewebsites.net/api/v1\";\nexport const baseURL = \"https://impactlife.azurewebsites.net/api/v1\";\n// export const baseURL = \"https://qrcodeattendance.azurewebsites.net/api\";\n","import { axiosInstance } from \"../../../../axios-Instance\";\nimport { toast } from \"react-toastify\";\nimport { toastOptions } from \"../../../../utils\";\nimport { useContext } from \"react\";\nimport { AuthContext } from \"../../../../context\";\nimport { setLoginToken } from \"../../../../storage\";\nimport { useMutation } from \"@tanstack/react-query\";\n\nconst SERVER_ERROR = \"There was an error contacting the server.\";\n\nasync function userVerification(formData) {\n\tconst data = await axiosInstance({\n\t\turl: `/Authentication/VerifyAccount?Token=${formData[\"token\"]}&Email=${formData[\"email\"]}`,\n\t\tmethod: \"POST\",\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t},\n\t});\n\n\treturn data?.data;\n}\n\nexport function useVerification() {\n\tconst authCtx = useContext(AuthContext);\n\tconst { mutate, isError, error, isSuccess, reset } = useMutation({\n\t\tmutationFn: (formData) => userVerification(formData),\n\t\tonSuccess: (data) => {\n\t\t\tsetLoginToken(data);\n\t\t\tauthCtx.authenticate(data.token);\n\t\t},\n\t\tonError: (error) => {\n\t\t\tconst err = error?.response?.data?.responseMessage\n\t\t\t\t? error?.response?.data?.responseMessage\n\t\t\t\t: SERVER_ERROR;\n\t\t\ttoast.error(err, toastOptions);\n\t\t},\n\t});\n\treturn { mutate, isError, error, isSuccess, reset };\n}\n","import React, { useState } from \"react\";\nimport { Button, FormGroup, Input } from \"mtforms\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useIsMutating } from \"@tanstack/react-query\";\nimport { PrivatePaths } from \"../../../routes/path\";\nimport { errorAlert, successAlert } from \"../../../utils\";\nimport { useVerification } from \"./hooks\";\n\nconst VerifyAccount = () => {\n\tconst navigate = useNavigate();\n\tconst [formData, setFormData] = useState({});\n\tconst [errors, setErrors] = useState({});\n\tconst {\n\t\tmutate,\n\t\tisError,\n\t\tisSuccess,\n\t\terror: verificationError,\n\t\treset,\n\t} = useVerification();\n\tconst isLoading = useIsMutating();\n\n\tconst handleChange = (name, value) => {\n\t\tsetFormData({ ...formData, [name]: value });\n\t};\n\n\tconst validationHandler = (name, error) => {\n\t\tsetErrors({ ...errors, [name]: error });\n\t};\n\n\tconst submitHandler = () => {\n\t\tmutate(formData);\n\t};\n\n\tif (isSuccess) {\n\t\treset();\n\t\tsuccessAlert(\"Verification Successful\");\n\t\tnavigate(PrivatePaths.DASHBOARD);\n\t}\n\tif (isError) {\n\t\treset();\n\t\terrorAlert(verificationError);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<h1>Verify Account</h1>\n\t\t\t<FormGroup onSubmit={submitHandler}>\n\t\t\t\t<Input\n\t\t\t\t\tname=\"email\"\n\t\t\t\t\tlabel=\"Email Address\"\n\t\t\t\t\tvalue={formData[\"email\"]}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\ttype=\"email\"\n\t\t\t\t\tvalidationHandler={validationHandler}\n\t\t\t\t\terror={errors.email}\n\t\t\t\t\trequired={true}\n\t\t\t\t\tsize=\"large\"\n\t\t\t\t/>\n\t\t\t\t<Input\n\t\t\t\t\tname=\"token\"\n\t\t\t\t\tlabel=\"Enter token\"\n\t\t\t\t\tvalue={formData[\"token\"]}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tvalidationHandler={validationHandler}\n\t\t\t\t\terror={errors.token}\n\t\t\t\t\trequired={true}\n\t\t\t\t\tsize=\"large\"\n\t\t\t\t/>\n\t\t\t\t<Button\n\t\t\t\t\ttitle=\"verify\"\n\t\t\t\t\tsize=\"large\"\n\t\t\t\t\tclassName={isLoading ? \"btn-disabled\" : \"\"}\n\t\t\t\t\tloading={isLoading === 1}\n\t\t\t\t\tdisabled={isLoading === 1}\n\t\t\t\t/>\n\t\t\t</FormGroup>\n\t\t</>\n\t);\n};\n\nexport default VerifyAccount;\n","'use client'\nimport * as React from 'react'\nimport { useSyncExternalStore } from './useSyncExternalStore'\n\nimport type { MutationKey, MutationFilters } from '@tanstack/query-core'\nimport { notifyManager, parseMutationFilterArgs } from '@tanstack/query-core'\nimport type { ContextOptions } from './types'\nimport { useQueryClient } from './QueryClientProvider'\n\ninterface Options extends ContextOptions {}\n\nexport function useIsMutating(\n  filters?: MutationFilters,\n  options?: Options,\n): number\nexport function useIsMutating(\n  mutationKey?: MutationKey,\n  filters?: Omit<MutationFilters, 'mutationKey'>,\n  options?: Options,\n): number\nexport function useIsMutating(\n  arg1?: MutationKey | MutationFilters,\n  arg2?: Omit<MutationFilters, 'mutationKey'> | Options,\n  arg3?: Options,\n): number {\n  const [filters, options = {}] = parseMutationFilterArgs(arg1, arg2, arg3)\n\n  const queryClient = useQueryClient({ context: options.context })\n  const mutationCache = queryClient.getMutationCache()\n\n  return useSyncExternalStore(\n    React.useCallback(\n      (onStoreChange) =>\n        mutationCache.subscribe(notifyManager.batchCalls(onStoreChange)),\n      [mutationCache],\n    ),\n    () => queryClient.isMutating(filters),\n    () => queryClient.isMutating(filters),\n  )\n}\n"],"names":["config","baseURL","axiosInstance","axios","_userVerification","_asyncToGenerator","_regeneratorRuntime","mark","_callee","formData","data","wrap","_context","prev","next","url","concat","method","headers","sent","abrupt","stop","apply","arguments","useVerification","authCtx","useContext","AuthContext","_useMutation","useMutation","mutationFn","_x","userVerification","onSuccess","setLoginToken","authenticate","token","onError","error","_error$response","_error$response$data","_error$response2","_error$response2$data","err","response","responseMessage","toast","toastOptions","mutate","isError","isSuccess","reset","navigate","useNavigate","_useState","useState","_useState2","_slicedToArray","setFormData","_useState3","_useState4","errors","setErrors","_useVerification","verificationError","isLoading","useIsMutating","handleChange","name","value","_objectSpread","_defineProperty","validationHandler","successAlert","PrivatePaths","errorAlert","_jsxs","_Fragment","children","_jsx","FormGroup","onSubmit","Input","label","onChange","type","email","required","size","Button","title","className","loading","disabled","arg1","arg2","arg3","_parseMutationFilterA","parseMutationFilterArgs","_parseMutationFilterA2","filters","_parseMutationFilterA3","options","mutationCache","queryClient","getMutationCache","useSyncExternalStore","React","onStoreChange","subscribe","notifyManager","isMutating"],"sourceRoot":""}