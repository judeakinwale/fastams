"use strict";(self.webpackChunkamsweb=self.webpackChunkamsweb||[]).push([[913],{6751:function(e,n,t){t.d(n,{b:function(){return a}});var r={baseURL:"https://impactlife.azurewebsites.net/api/v1"},a=t(1243).Z.create(r)},6913:function(e,n,t){t.r(n),t.d(n,{default:function(){return C}});var r=t(4942),a=t(1413),i=t(9439),s=t(2791),o=t(5043),u=t(7689),c=t(3722),l=t(347),d=t(749),f=t(4165),v=t(5861),p=t(6751),m=t(5985),h=t(9373),b=t(8096),g=t(3418);function k(){return(k=(0,v.Z)((0,f.Z)().mark((function e(n){var t;return(0,f.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.b)({url:"/Authentication/VerifyAccount?Token=".concat(n.token,"&Email=").concat(n.email),method:"POST",headers:{"Content-Type":"application/json"}});case 2:return t=e.sent,e.abrupt("return",null===t||void 0===t?void 0:t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){var e=(0,s.useContext)(h.V),n=(0,g.D)({mutationFn:function(e){return function(e){return k.apply(this,arguments)}(e)},onSuccess:function(n){(0,b.EV)(n),e.authenticate(n.token)},onError:function(e){var n,t,r,a,i=null!==e&&void 0!==e&&null!==(n=e.response)&&void 0!==n&&null!==(t=n.data)&&void 0!==t&&t.responseMessage?null===e||void 0===e||null===(r=e.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.responseMessage:"There was an error contacting the server.";m.Am.error(i,d.HK)}});return{mutate:n.mutate,isError:n.isError,error:n.error,isSuccess:n.isSuccess,reset:n.reset}}var Z=t(184),C=function(){var e=(0,u.s0)(),n=(0,s.useState)({}),t=(0,i.Z)(n,2),f=t[0],v=t[1],p=(0,s.useState)({}),m=(0,i.Z)(p,2),h=m[0],b=m[1],g=x(),k=g.mutate,C=g.isError,S=g.isSuccess,w=g.error,j=g.reset,y=(0,c.B)(),E=function(e,n){v((0,a.Z)((0,a.Z)({},f),{},(0,r.Z)({},e,n)))},A=function(e,n){b((0,a.Z)((0,a.Z)({},h),{},(0,r.Z)({},e,n)))};return S&&(j(),(0,d.Cq)("Verification Successful"),e(l.oj.DASHBOARD)),C&&(j(),(0,d.sD)(w)),(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("h1",{children:"Verify Account"}),(0,Z.jsxs)(o.cw,{onSubmit:function(){k(f)},children:[(0,Z.jsx)(o.II,{name:"email",label:"Email Address",value:f.email,onChange:E,type:"email",validationHandler:A,error:h.email,required:!0,size:"large"}),(0,Z.jsx)(o.II,{name:"token",label:"Enter token",value:f.token,onChange:E,type:"text",validationHandler:A,error:h.token,required:!0,size:"large"}),(0,Z.jsx)(o.zx,{title:"verify",size:"large",className:y?"btn-disabled":"",loading:1===y,disabled:1===y})]})]})}},3722:function(e,n,t){t.d(n,{B:function(){return c}});var r=t(9439),a=t(2791),i=t(7413),s=t(3734),o=t(9538),u=t(6403);function c(e,n,t){var c=(0,s.cb)(e,n,t),l=(0,r.Z)(c,2),d=l[0],f=l[1],v=void 0===f?{}:f,p=(0,u.NL)({context:v.context}),m=p.getMutationCache();return(0,i.$)(a.useCallback((function(e){return m.subscribe(o.V.batchCalls(e))}),[m]),(function(){return p.isMutating(d)}),(function(){return p.isMutating(d)}))}}}]);
//# sourceMappingURL=913.b02efcf0.chunk.js.map