"use strict";(self.webpackChunkamsweb=self.webpackChunkamsweb||[]).push([[850],{7850:function(e,o,t){t.r(o);var n=t(1413),s=t(9439),l=t(3722),i=t(2791),r=t(7063),a=t(7689),c=t(1087),u=t(347),d=t(4928),_=t(2267),g=t(3348),h=t(575),j=t(184);o.default=function(){var e=(0,i.useState)({}),o=(0,s.Z)(e,2),t=o[0],Z=o[1],y=(0,i.useState)({}),C=(0,s.Z)(y,2),f=C[0],x=C[1],v=(0,i.useState)(null),m=(0,s.Z)(v,2),b=m[0],w=m[1],S=(0,i.useState)(!1),p=(0,s.Z)(S,2),k=p[0],E=p[1],N=(0,d.K)(),B=N.mutate,q=N.reset,M=N.isSuccess,H=N.isError,O=(0,l.B)(),P=(0,a.s0)();return M&&(q(),P(u.oj.HOME)),H&&P(u.oj.HOME),(0,i.useEffect)((function(){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){Z((0,n.Z)((0,n.Z)({},t),{},{long:e.coords.longitude.toString(),lat:e.coords.latitude.toString()}))}),(function(){x((0,n.Z)((0,n.Z)({},f),{},{location:"Unable to retrieve your location"}))})):x((0,n.Z)((0,n.Z)({},f),{},{location:"Geolocation is not supported by your browser"}))}),[f,t]),t.lat&&t.long?(0,j.jsxs)("div",{className:_.Z.container,children:[(0,j.jsx)("div",{className:_.Z.logoContainer,children:(0,j.jsx)(c.rU,{to:u.oj.HOME,children:(0,j.jsx)("img",{src:g,alt:"logo"})})}),(0,j.jsxs)("div",{className:_.Z.qrCode,children:[b?null:(0,j.jsx)(r.T,{onResult:function(e,o){if(e){console.log(e,"result"),w(null===e||void 0===e?void 0:e.text);var s=(0,n.Z)((0,n.Z)({},t),{},{qrCode:null===e||void 0===e?void 0:e.text});B(s)}o&&(console.info(o),x((0,n.Z)((0,n.Z)({},f),{},{QrReader:o})))},constraints:{facingMode:k?"user":"environment"},style:{height:"100px",width:"30%"}}),(0,j.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100%"},children:(0,j.jsxs)("button",{className:_.Z.btnContainer,onClick:function(){E(!k),w(null),x({})},children:["Switch Camera (",k?"Back":"Front",")"]})})]}),b&&(0,j.jsx)("div",{className:_.Z.result,children:(0,j.jsxs)("h4",{children:["Scanned code :",(0,j.jsxs)("span",{style:{color:"black"},children:[" ",b]})]})}),Boolean(O)&&(0,j.jsx)(h.aN,{})]}):(0,j.jsx)("h1",{children:"Please turn on your location"})}},2267:function(e,o){o.Z={container:"styles_container__B+Po3",qrCode:"styles_qrCode__l9wVC",btnContainer:"styles_btnContainer__WZKTJ",result:"styles_result__uA2DE",logoContainer:"styles_logoContainer__UxVta",imgContainer:"styles_imgContainer__jjjBQ",home:"styles_home__3lA8v",logo:"styles_logo__LLS9j",yellow:"styles_yellow__aWFoT"}}}]);
//# sourceMappingURL=850.1aa225f2.chunk.js.map