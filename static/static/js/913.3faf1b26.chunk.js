"use strict";(self.webpackChunkamsweb=self.webpackChunkamsweb||[]).push([[913],{6913:function(e,n,r){r.r(n),r.d(n,{default:function(){return S}});var t=r(4942),a=r(1413),s=r(9439),i=r(2791),o=r(5043),u=r(7689),c=r(3722),l=r(347),d=r(749),f=r(4165),v=r(5861),m=r(2805),p=r(5985),h=r(9373),b=r(8096),k=r(3418);function x(){return(x=(0,v.Z)((0,f.Z)().mark((function e(n){var r;return(0,f.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.b)({url:"/Authentication/VerifyAccount?Token=".concat(n.token,"&Email=").concat(n.email),method:"POST",headers:{"Content-Type":"application/json"}});case 2:return r=e.sent,e.abrupt("return",null===r||void 0===r?void 0:r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){var e=(0,i.useContext)(h.V),n=(0,k.D)({mutationFn:function(e){return function(e){return x.apply(this,arguments)}(e)},onSuccess:function(n){(0,b.EV)(n),e.authenticate(n.token)},onError:function(e){var n,r,t,a,s=null!==e&&void 0!==e&&null!==(n=e.response)&&void 0!==n&&null!==(r=n.data)&&void 0!==r&&r.responseMessage?null===e||void 0===e||null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.responseMessage:"There was an error contacting the server.";p.Am.error(s,d.HK)}});return{mutate:n.mutate,isError:n.isError,error:n.error,isSuccess:n.isSuccess,reset:n.reset}}var g=r(184),S=function(){var e=(0,u.s0)(),n=(0,i.useState)({}),r=(0,s.Z)(n,2),f=r[0],v=r[1],m=(0,i.useState)({}),p=(0,s.Z)(m,2),h=p[0],b=p[1],k=Z(),x=k.mutate,S=k.isError,j=k.isSuccess,w=k.error,y=k.reset,E=(0,c.B)(),A=function(e,n){v((0,a.Z)((0,a.Z)({},f),{},(0,t.Z)({},e,n)))},C=function(e,n){b((0,a.Z)((0,a.Z)({},h),{},(0,t.Z)({},e,n)))};return j&&(y(),(0,d.Cq)("Verification Successful"),e(l.oj.DASHBOARD)),S&&(y(),(0,d.sD)(w)),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("h1",{children:"Verify Account"}),(0,g.jsxs)(o.cw,{onSubmit:function(){x(f)},children:[(0,g.jsx)(o.II,{name:"email",label:"Email Address",value:f.email,onChange:A,type:"email",validationHandler:C,error:h.email,required:!0,size:"large"}),(0,g.jsx)(o.II,{name:"token",label:"Enter token",value:f.token,onChange:A,type:"text",validationHandler:C,error:h.token,required:!0,size:"large"}),(0,g.jsx)(o.zx,{title:"verify",size:"large",className:E?"btn-disabled":"",loading:1===E,disabled:1===E})]})]})}}}]);
//# sourceMappingURL=913.3faf1b26.chunk.js.map