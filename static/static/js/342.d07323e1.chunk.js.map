{"version":3,"file":"static/js/342.d07323e1.chunk.js","mappings":"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","sources":["modules/Admin/Report/[key].js","modules/Admin/Report/column.js","modules/Admin/Users/column.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Layout from \"../../../layout\";\nimport { useParams } from \"react-router-dom\";\nimport { useGetAbsentUsers, useGetAttendance } from \"../hooks\";\nimport { Table } from \"mtforms\";\nimport { columns } from \"./column\";\nimport { columns as userColumns } from \"../Users/column\";\n\nconst Reports = () => {\n  const absentDate = new Date();\n  const { data: attendance } = useGetAttendance();\n  const { data: absentUsers } = useGetAbsentUsers(absentDate);\n  const { key } = useParams();\n  const [tableData, setTableData] = useState([]);\n\n  useEffect(() => {\n    const getTodayDateISOString = () => {\n      return new Date().toISOString().split(\"T\")[0];\n    };\n\n    const filterAttendanceByDate = (attendanceList, date) => {\n      return (\n        attendanceList?.filter(\n          (item) => item.created_at.split(\"T\")[0] === date\n        ) || []\n      );\n    };\n\n    const filterAttendanceByStatus = (attendanceList, booleanProperty) => {\n      return attendanceList?.filter((item) => item[booleanProperty]) || [];\n    };\n\n    const getReportData = (activeReport) => {\n      switch (activeReport) {\n        case \"today\":\n          const todayDate = getTodayDateISOString();\n          return filterAttendanceByDate(attendance, todayDate);\n\n        case \"all\":\n          return attendance;\n\n        case \"late\":\n          return filterAttendanceByStatus(attendance, \"is_signed_in_late\");\n\n        case \"early\":\n          return filterAttendanceByStatus(attendance, \"is_signed_out_early\");\n\n        case \"overtime\":\n          return filterAttendanceByStatus(attendance, \"is_signed_out_overtime\");\n\n        case \"absent\":\n          return absentUsers;\n\n        default:\n          return attendance;\n      }\n    };\n\n    if (key) {\n      const newTableData = getReportData(key);\n      setTableData(newTableData);\n    }\n  }, [key, absentUsers, attendance]);\n\n  console.log(tableData[0])\n  return (\n    <Layout name=\"Report\" title={`${key.toLocaleUpperCase()} Reports`}>\n      <Table\n        columns={key === \"absent\" ? userColumns : columns}\n        data={tableData}\n        selectID=\"id\"\n        showFilter\n      />\n    </Layout>\n  );\n};\n\nexport default Reports;\n","export function parseDate(date) {\n  if (!date) return;\n  date = new Date(date);\n  // Request a weekday along with a long date\n  // const options = {\n  //   timezone: \"UTC\"\n  //   // weekday: \"long\",\n  //   // year: \"numeric\",\n  //   // month: \"long\",\n  //   // day: \"numeric\",\n  // };\n  // console.log(date.toLocaleString(\"de-DE\", options));\n  // return date.toUTCString();\n  const fixedDate = date.toUTCString().replace(/,/g, \" \");\n  return fixedDate;\n  // return date.toString(\"en-US\", { timezone: \"UTC\" });\n  // return date.toLocaleString(\"en-US\", { timezone: \"UTC\" });\n  // return `${date.toLocaleDateString(\"en-US\", {timezone: \"UTC\"})} - ${date.toLocaleTimeString(\"en-US\", {timezone: \"UTC\"})}`\n  // return `${date.toLocaleDateString(\"en-US\", {timezone: \"UTC\"})} - ${date.toLocaleTimeString(\"en-US\", {timezone: \"UTC\"})}`\n}\nexport const columns = [\n  // { title: \"S/N\", field: \"Tableid\",render: (rowData) => rowData.tableData.id + 1},\n  { title: \"First Name\", field: \"user.first_name\" },\n  { title: \"Last Name\", field: \"user.last_name\" },\n  { title: \"Email\", field: \"email\" },\n  { title: \"Location\", field: \"location.name\" },\n  {\n    title: \"Check In Time\",\n    field: \"created_at\",\n    // render: (rowData) => rowData.created_at.replace(\"T\", \" - \").slice(0, -10),\n    render: (rowData) => parseDate(rowData?.created_at),\n  },\n  {\n    title: \"Check Out Time\",\n    field: \"updated_at\",\n    // render: (rowData) => rowData.created_at.replace(\"T\", \" - \").slice(0, -10),\n    render: (rowData) => parseDate(rowData?.updated_at),\n  },\n];\n\nexport const single_columns = [\n  { title: \"Email\", field: \"email\" },\n  {\n    title: \"Check In Time\",\n    field: \"created_at\",\n    // render: (rowData) => rowData.created_at.replace(\"T\", \" - \").slice(0, -10),\n    render: (rowData) => parseDate(rowData?.created_at),\n  },\n  {\n    title: \"Check Out Time\",\n    field: \"updated_at\",\n    // render: (rowData) => rowData.created_at.replace(\"T\", \" - \").slice(0, -10),\n    render: (rowData) => parseDate(rowData?.updated_at),\n  },\n];\n\nexport const location_columns = [\n  { title: \"Name\", field: \"name\" },\n\n  { title: \"Address\", field: \"address\" },\n  { title: \"Latitude\", field: \"latitude\" },\n  { title: \"Longitude\", field: \"longitude\" },\n  { title: \"Radius\", field: \"radius\" },\n];\n","export const columns = [\n  // { title: \"S/N\", field: \"Tableid\",render: (rowData) => rowData.tableData.id + 1},\n  { title: \"First Name\", field: \"first_name\" },\n  { title: \"Last Name\", field: \"last_name\" },\n  { title: \"Email\", field: \"email\" },\n];\n"],"names":["absentDate","Date","attendance","useGetAttendance","data","absentUsers","useGetAbsentUsers","key","useParams","_useState","useState","_useState2","_slicedToArray","tableData","setTableData","useEffect","filterAttendanceByStatus","attendanceList","booleanProperty","filter","item","newTableData","activeReport","todayDate","toISOString","split","date","created_at","getReportData","console","log","_jsx","Layout","name","title","concat","toLocaleUpperCase","children","Table","columns","userColumns","selectID","showFilter","parseDate","toUTCString","replace","field","render","rowData","updated_at","single_columns","location_columns"],"sourceRoot":""}